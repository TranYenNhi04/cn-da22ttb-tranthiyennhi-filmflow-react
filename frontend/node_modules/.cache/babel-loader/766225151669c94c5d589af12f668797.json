{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./CollectionsPage.css';import{API_BASE}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MovieCard(_ref){let{movie,onClick}=_ref;const poster=movie.poster_url||movie.poster_path||movie.poster;return/*#__PURE__*/_jsxs(\"div\",{className:\"collection-movie-card\",onClick:()=>onClick&&onClick(movie),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"collection-movie-thumb\",children:[poster?/*#__PURE__*/_jsx(\"img\",{src:poster,alt:movie.title,loading:\"lazy\"}):/*#__PURE__*/_jsx(\"div\",{className:\"no-poster\",children:\"Kh\\xF4ng c\\xF3 poster\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collection-overlay\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-play\",children:\"\\u25B6 Xem ngay\"})})]}),/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsx(\"p\",{className:\"movie-year\",children:movie.year})]});}export default function CollectionsPage(_ref2){let{onMovieClick}=_ref2;const[collections]=useState([{id:'best_2024',name:'üèÜ Best of 2024',icon:'üèÜ'},{id:'horror',name:'üëª Horror Collection',icon:'üëª'},{id:'action',name:'üí• Action Movies',icon:'üí•'},{id:'top_rated',name:'‚≠ê Top Rated',icon:'‚≠ê'}]);const[selectedCollection,setSelectedCollection]=useState('best_2024');const[collectionMovies,setCollectionMovies]=useState([]);const[collectionInfo,setCollectionInfo]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{fetchCollection(selectedCollection);},[selectedCollection]);const fetchCollection=async collectionId=>{setLoading(true);try{const response=await fetch(\"\".concat(API_BASE,\"/collections/\").concat(collectionId,\"?limit=30\"));if(response.ok){const data=await response.json();setCollectionInfo(data);setCollectionMovies(data.movies||[]);}}catch(error){console.error('Failed to fetch collection:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"collections-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"collections-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFAC B\\u1ED9 S\\u01B0u T\\u1EADp Phim\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Kh\\xE1m ph\\xE1 nh\\u1EEFng b\\u1ED9 s\\u01B0u t\\u1EADp phim \\u0111\\u01B0\\u1EE3c c\\u1ED1 g\\u1EAFng s\\u1EAFp x\\u1EBFp\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collections-tabs\",children:collections.map(col=>/*#__PURE__*/_jsxs(\"button\",{className:\"collection-tab \".concat(selectedCollection===col.id?'active':''),onClick:()=>setSelectedCollection(col.id),children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:col.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-name\",children:col.name})]},col.id))}),collectionInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"collection-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:collectionInfo.title}),/*#__PURE__*/_jsx(\"p\",{children:collectionInfo.description})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0110ang t\\u1EA3i...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"collections-grid\",children:collectionMovies.map((movie,idx)=>/*#__PURE__*/_jsx(MovieCard,{movie:movie,onClick:onMovieClick},idx))}),collectionMovies.length===0&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"no-movies\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Kh\\xF4ng c\\xF3 phim trong b\\u1ED9 s\\u01B0u t\\u1EADp n\\xE0y\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","API_BASE","jsx","_jsx","jsxs","_jsxs","MovieCard","_ref","movie","onClick","poster","poster_url","poster_path","className","children","src","alt","title","loading","year","CollectionsPage","_ref2","onMovieClick","collections","id","name","icon","selectedCollection","setSelectedCollection","collectionMovies","setCollectionMovies","collectionInfo","setCollectionInfo","setLoading","fetchCollection","collectionId","response","fetch","concat","ok","data","json","movies","error","console","map","col","description","idx","length"],"sources":["D:/cn/phim/frontend/src/pages/CollectionsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './CollectionsPage.css';\r\nimport { API_BASE } from '../config';\r\n\r\nfunction MovieCard({ movie, onClick }) {\r\n  const poster = movie.poster_url || movie.poster_path || movie.poster;\r\n  return (\r\n    <div className=\"collection-movie-card\" onClick={() => onClick && onClick(movie)}>\r\n      <div className=\"collection-movie-thumb\">\r\n        {poster ? (\r\n          <img src={poster} alt={movie.title} loading=\"lazy\" />\r\n        ) : (\r\n          <div className=\"no-poster\">Kh√¥ng c√≥ poster</div>\r\n        )}\r\n        <div className=\"collection-overlay\">\r\n          <button className=\"btn-play\">‚ñ∂ Xem ngay</button>\r\n        </div>\r\n      </div>\r\n      <h3>{movie.title}</h3>\r\n      <p className=\"movie-year\">{movie.year}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CollectionsPage({ onMovieClick }) {\r\n  const [collections] = useState([\r\n    { id: 'best_2024', name: 'üèÜ Best of 2024', icon: 'üèÜ' },\r\n    { id: 'horror', name: 'üëª Horror Collection', icon: 'üëª' },\r\n    { id: 'action', name: 'üí• Action Movies', icon: 'üí•' },\r\n    { id: 'top_rated', name: '‚≠ê Top Rated', icon: '‚≠ê' }\r\n  ]);\r\n\r\n  const [selectedCollection, setSelectedCollection] = useState('best_2024');\r\n  const [collectionMovies, setCollectionMovies] = useState([]);\r\n  const [collectionInfo, setCollectionInfo] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCollection(selectedCollection);\r\n  }, [selectedCollection]);\r\n\r\n  const fetchCollection = async (collectionId) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`${API_BASE}/collections/${collectionId}?limit=30`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setCollectionInfo(data);\r\n        setCollectionMovies(data.movies || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch collection:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"collections-page\">\r\n      {/* Header */}\r\n      <div className=\"collections-header\">\r\n        <h1>üé¨ B·ªô S∆∞u T·∫≠p Phim</h1>\r\n        <p>Kh√°m ph√° nh·ªØng b·ªô s∆∞u t·∫≠p phim ƒë∆∞·ª£c c·ªë g·∫Øng s·∫Øp x·∫øp</p>\r\n      </div>\r\n\r\n      {/* Collection Tabs */}\r\n      <div className=\"collections-tabs\">\r\n        {collections.map(col => (\r\n          <button\r\n            key={col.id}\r\n            className={`collection-tab ${selectedCollection === col.id ? 'active' : ''}`}\r\n            onClick={() => setSelectedCollection(col.id)}\r\n          >\r\n            <span className=\"tab-icon\">{col.icon}</span>\r\n            <span className=\"tab-name\">{col.name}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Collection Info */}\r\n      {collectionInfo && (\r\n        <div className=\"collection-info\">\r\n          <h2>{collectionInfo.title}</h2>\r\n          <p>{collectionInfo.description}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Movies Grid */}\r\n      {loading ? (\r\n        <div className=\"loading\">ƒêang t·∫£i...</div>\r\n      ) : (\r\n        <div className=\"collections-grid\">\r\n          {collectionMovies.map((movie, idx) => (\r\n            <MovieCard \r\n              key={idx} \r\n              movie={movie} \r\n              onClick={onMovieClick}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {collectionMovies.length === 0 && !loading && (\r\n        <div className=\"no-movies\">\r\n          <p>Kh√¥ng c√≥ phim trong b·ªô s∆∞u t·∫≠p n√†y</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}