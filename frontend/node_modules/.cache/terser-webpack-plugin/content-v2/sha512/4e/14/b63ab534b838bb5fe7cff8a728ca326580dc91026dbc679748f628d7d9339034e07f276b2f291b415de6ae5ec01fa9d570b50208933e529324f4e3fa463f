{"code":"(this[\"webpackJsonphe-thong-goi-y-phim\"]=this[\"webpackJsonphe-thong-goi-y-phim\"]||[]).push([[0],{11:function(e,t,i){\"use strict\";i.r(t);var c=i(1),n=i.n(c),s=i(4),r=i.n(s),a=(i(9),i(0));function l(){return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"h1\",{className:\"page-header\",children:\"\\ud83c\\udfe0 Trang ch\\u1ee7\"}),Object(a.jsxs)(\"div\",{style:{background:\"#f3f4f6\",padding:\"20px\",borderRadius:\"8px\"},children:[Object(a.jsx)(\"h2\",{children:\"Ch\\xe0o m\\u1eebng \\u0111\\u1ebfn H\\u1ec7 th\\u1ed1ng G\\u1ee3i \\xfd Phim!\"}),Object(a.jsx)(\"p\",{children:\"Ch\\u1ecdn m\\u1ed9t trong c\\xe1c t\\xf9y ch\\u1ecdn t\\u1eeb menu b\\xean tr\\xe1i \\u0111\\u1ec3 b\\u1eaft \\u0111\\u1ea7u:\"}),Object(a.jsxs)(\"ul\",{children:[Object(a.jsxs)(\"li\",{children:[Object(a.jsx)(\"strong\",{children:\"\\ud83c\\udfa5 Phim:\"}),\" T\\xecm ki\\u1ebfm v\\xe0 xem th\\xf4ng tin chi ti\\u1ebft v\\u1ec1 c\\xe1c b\\u1ed9 phim\"]}),Object(a.jsxs)(\"li\",{children:[Object(a.jsx)(\"strong\",{children:\"\\u2b50 G\\u1ee3i \\xfd:\"}),\" Nh\\u1eadn c\\xe1c g\\u1ee3i \\xfd phim c\\xe1 nh\\xe2n d\\u1ef1a tr\\xean s\\u1edf th\\xedch c\\u1ee7a b\\u1ea1n\"]})]}),Object(a.jsx)(\"h3\",{children:\"C\\xe1c lo\\u1ea1i g\\u1ee3i \\xfd:\"}),Object(a.jsxs)(\"ul\",{children:[Object(a.jsx)(\"li\",{children:\"Collaborative Filtering - G\\u1ee3i \\xfd d\\u1ef1a tr\\xean ng\\u01b0\\u1eddi d\\xf9ng t\\u01b0\\u01a1ng t\\u1ef1\"}),Object(a.jsx)(\"li\",{children:\"Content-based Filtering - G\\u1ee3i \\xfd d\\u1ef1a tr\\xean n\\u1ed9i dung phim\"}),Object(a.jsx)(\"li\",{children:\"Hybrid Filtering - K\\u1ebft h\\u1ee3p c\\u1ea3 hai ph\\u01b0\\u01a1ng ph\\xe1p\"})]})]})]})}var o=i(2);const d=\"http://host.docker.internal:8000\";function h(){const[e,t]=Object(c.useState)(\"\"),[i,n]=Object(c.useState)([]),[s,r]=Object(c.useState)([]),[l,h]=Object(c.useState)(!1),[j,b]=Object(c.useState)(\"\"),[m,p]=Object(c.useState)(!1),[x,u]=Object(c.useState)(null);Object(c.useEffect)(()=>{e.trim().length>0?(h(!0),b(\"\"),fetch(\"\".concat(d,\"/movies/search?q=\").concat(encodeURIComponent(e))).then(e=>e.json()).then(e=>{r(e.results||[]),p(!0),h(!1)}).catch(e=>{b(\"L\\u1ed7i t\\xecm ki\\u1ebfm g\\u1ee3i \\xfd\"),h(!1)})):(r([]),p(!1))},[e]);const g=e=>{let{movie:t}=e;const i=(e=>{if(!e)return null;try{const t=new URL(e);if(t.hostname.includes(\"youtube.com\"))return t.searchParams.get(\"v\");if(t.hostname.includes(\"youtu.be\"))return t.pathname.slice(1)}catch(t){return null}return null})(t.video_url);return Object(a.jsxs)(\"div\",{className:\"movie-card\",style:{cursor:\"pointer\",transition:\"all 0.3s ease\",padding:\"15px\",border:\"1px solid #e5e7eb\",borderRadius:\"8px\",marginBottom:\"15px\"},onClick:()=>(async e=>{if(x!==e.id){if(!e.video_url)try{const t=await fetch(\"\".concat(d,\"/movies/\").concat(e.id,\"/trailer\"));if(t.ok){const i=await t.json();n(t=>t.map(t=>t.id===e.id?Object(o.a)(Object(o.a)({},t),{},{video_url:i.video_url}):t))}}catch(t){console.error(\"Error fetching trailer:\",t)}u(e.id)}else u(null)})(t),children:[Object(a.jsxs)(\"h3\",{children:[t.title,\" \",t.year>0&&\"(\".concat(t.year,\")\")]}),Object(a.jsx)(\"p\",{children:t.overview}),Object(a.jsxs)(\"p\",{children:[\"\\u2b50 \",t.vote_average||\"N/A\",\"/10\"]}),Object(a.jsx)(\"p\",{style:{color:\"#3b82f6\",fontSize:\"14px\",fontWeight:\"500\"},children:\"\\u25b6 Click \\u0111\\u1ec3 xem trailer\"}),x===t.id&&t.video_url&&i&&Object(a.jsx)(\"iframe\",{width:\"100%\",height:\"400\",src:\"https://www.youtube.com/embed/\".concat(i,\"?autoplay=1\"),frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:!0,title:\"trailer\",style:{marginTop:\"15px\",borderRadius:\"8px\"}})]},t.id||t.title)};return Object(a.jsxs)(\"div\",{style:{padding:\"20px\"},children:[Object(a.jsx)(\"h1\",{children:\"\\ud83c\\udfa5 T\\xecm ki\\u1ebfm Phim\"}),Object(a.jsxs)(\"form\",{onSubmit:async t=>{if(t.preventDefault(),e.trim()){h(!0),b(\"\");try{const t=await fetch(\"\".concat(d,\"/movies/search?q=\").concat(encodeURIComponent(e)));if(!t.ok)throw new Error(\"L\\u1ed7i t\\xecm ki\\u1ebfm\");const i=await t.json();n(i.results||[]),p(!1),i.results&&0!==i.results.length||b(\"Kh\\xf4ng t\\xecm th\\u1ea5y phim n\\xe0o\")}catch(i){b(i.message)}finally{h(!1)}}},style:{position:\"relative\",marginBottom:\"20px\"},children:[Object(a.jsx)(\"input\",{type:\"text\",placeholder:\"Nh\\u1eadp t\\xean phim...\",value:e,onChange:e=>t(e.target.value),style:{padding:\"10px\",width:\"300px\",marginRight:\"10px\"}}),Object(a.jsx)(\"button\",{type:\"submit\",style:{padding:\"10px\"},children:\"T\\xecm ki\\u1ebfm\"}),m&&s.length>0&&Object(a.jsx)(\"div\",{style:{position:\"absolute\",top:\"45px\",left:0,right:0,maxWidth:\"300px\",background:\"white\",border:\"1px solid #d1d5db\",borderRadius:\"6px\",maxHeight:\"200px\",overflowY:\"auto\",zIndex:10},children:s.slice(0,10).map((e,i)=>Object(a.jsxs)(\"div\",{onClick:()=>(async e=>{t(e.title),n([e]),p(!1),u(null);try{const t=await fetch(\"\".concat(d,\"/movies/\").concat(e.id,\"/trailer\"));if(t.ok){const i=await t.json();n([Object(o.a)(Object(o.a)({},e),{},{video_url:i.video_url})])}}catch(i){console.error(\"Error fetching trailer:\",i)}})(e),style:{padding:\"10px\",borderBottom:\"1px solid #e5e7eb\",cursor:\"pointer\"},children:[e.title,\" \",e.year>0&&\"(\".concat(e.year,\")\")]},i))})]}),j&&Object(a.jsx)(\"div\",{style:{color:\"red\"},children:j}),l&&Object(a.jsx)(\"div\",{children:\"\\u0110ang t\\u1ea3i...\"}),i.length>0&&Object(a.jsxs)(\"div\",{children:[Object(a.jsxs)(\"h3\",{children:[\"T\\xecm th\\u1ea5y \",i.length,\" k\\u1ebft qu\\u1ea3\"]}),Object(a.jsx)(\"div\",{children:i.map(e=>Object(a.jsx)(g,{movie:e},e.id||e.title))})]})]})}function j(){const[e,t]=Object(c.useState)(\"collaborative\"),[i,n]=Object(c.useState)(\"\"),[s,r]=Object(c.useState)(\"\"),[l,o]=Object(c.useState)([]),[d,h]=Object(c.useState)(!1),[j,b]=Object(c.useState)(\"\");return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"h1\",{className:\"page-header\",children:\"\\u2b50 G\\u1ee3i \\xfd Phim\"}),Object(a.jsxs)(\"div\",{style:{background:\"#f3f4f6\",padding:\"20px\",borderRadius:\"8px\",marginBottom:\"20px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"10px\"},children:Object(a.jsx)(\"strong\",{children:\"Lo\\u1ea1i g\\u1ee3i \\xfd:\"})}),Object(a.jsxs)(\"select\",{value:e,onChange:e=>t(e.target.value),style:{padding:\"8px\",borderRadius:\"6px\",border:\"1px solid #d1d5db\"},children:[Object(a.jsx)(\"option\",{value:\"collaborative\",children:\"Collaborative Filtering\"}),Object(a.jsx)(\"option\",{value:\"content\",children:\"Content-based Filtering\"}),Object(a.jsx)(\"option\",{value:\"hybrid\",children:\"Hybrid Filtering\"})]}),(\"collaborative\"===e||\"hybrid\"===e)&&Object(a.jsxs)(\"div\",{style:{marginTop:\"15px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"ID Ng\\u01b0\\u1eddi d\\xf9ng (t\\xf9y ch\\u1ecdn):\"}),Object(a.jsx)(\"input\",{type:\"number\",value:i,onChange:e=>n(e.target.value),className:\"search-box\",style:{maxWidth:\"200px\"},placeholder:\"Nh\\u1eadp ID\"})]}),(\"content\"===e||\"hybrid\"===e)&&Object(a.jsxs)(\"div\",{style:{marginTop:\"15px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"ID Phim (t\\xf9y ch\\u1ecdn):\"}),Object(a.jsx)(\"input\",{type:\"number\",value:s,onChange:e=>r(e.target.value),className:\"search-box\",style:{maxWidth:\"200px\"},placeholder:\"Nh\\u1eadp ID\"})]}),Object(a.jsx)(\"button\",{onClick:async()=>{h(!0),b(\"\"),o([]);try{const t=new URLSearchParams;i&&t.append(\"user_id\",i),s&&t.append(\"movie_id\",s),t.append(\"n\",\"10\");const c=await fetch(\"http://backend:8000/recommendations/\".concat(e,\"?\").concat(t));if(!c.ok)throw new Error(\"L\\u1ed7i l\\u1ea5y g\\u1ee3i \\xfd\");const n=await c.json();o(n.results||[]),n.results&&0!==n.results.length||b(\"Kh\\xf4ng c\\xf3 g\\u1ee3i \\xfd n\\xe0o\")}catch(t){b(t.message)}finally{h(!1)}},className:\"btn\",style:{marginTop:\"15px\"},children:\"L\\u1ea5y g\\u1ee3i \\xfd\"})]}),j&&Object(a.jsx)(\"div\",{className:\"error\",children:j}),d&&Object(a.jsx)(\"div\",{className:\"loading\",children:\"\\u0110ang t\\u1ea3i...\"}),l.length>0&&Object(a.jsxs)(\"div\",{children:[Object(a.jsxs)(\"p\",{style:{marginTop:\"20px\",color:\"#6b7280\"},children:[\"C\\xf3 \",l.length,\" g\\u1ee3i \\xfd cho b\\u1ea1n\"]}),Object(a.jsx)(\"div\",{className:\"movie-list\",children:l.map((e,t)=>Object(a.jsxs)(\"div\",{className:\"movie-card\",children:[Object(a.jsxs)(\"h3\",{children:[e.title,\" \",e.year>0&&\"(\".concat(e.year,\")\")]}),Object(a.jsxs)(\"p\",{children:[Object(a.jsx)(\"strong\",{children:\"Overview:\"}),\" \",e.overview]}),Object(a.jsxs)(\"p\",{className:\"rating\",children:[\"\\u2b50 \",e.vote_average||\"N/A\",\"/10\"]}),e.video_url&&Object(a.jsx)(\"div\",{style:{marginTop:\"10px\"},children:Object(a.jsx)(\"a\",{href:e.video_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn\",style:{display:\"inline-block\",textDecoration:\"none\"},children:\"\\u25b6 Xem trailer\"})})]},t))})]})]})}function b(){const[e,t]=Object(c.useState)(\"home\");return Object(a.jsxs)(\"div\",{className:\"app-container\",children:[Object(a.jsxs)(\"aside\",{className:\"sidebar\",children:[Object(a.jsx)(\"div\",{className:\"sidebar-header\",children:Object(a.jsx)(\"h1\",{children:\"\\ud83c\\udfac H\\u1ec7 th\\u1ed1ng G\\u1ee3i \\xfd Phim\"})}),Object(a.jsxs)(\"nav\",{className:\"sidebar-nav\",children:[Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"home\"===e?\"active\":\"\"),onClick:()=>t(\"home\"),children:\"\\ud83c\\udfe0 Trang ch\\u1ee7\"}),Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"movies\"===e?\"active\":\"\"),onClick:()=>t(\"movies\"),children:\"\\ud83c\\udfa5 Phim\"}),Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"recommendations\"===e?\"active\":\"\"),onClick:()=>t(\"recommendations\"),children:\"\\u2b50 G\\u1ee3i \\xfd\"})]})]}),Object(a.jsxs)(\"main\",{className:\"main-content\",children:[\"home\"===e&&Object(a.jsx)(l,{}),\"movies\"===e&&Object(a.jsx)(h,{}),\"recommendations\"===e&&Object(a.jsx)(j,{})]})]})}r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById(\"root\"))},9:function(e,t,i){}},[[11,1,2]]]);","name":"static/js/main.bf27af80.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","HomePage","Object","children","className","style","background","padding","borderRadius","objectSpread2","API_BASE","MoviesPage","searchQuery","setSearchQuery","movies","setMovies","suggestions","setSuggestions","loading","setLoading","error","setError","showSuggestions","setShowSuggestions","selectedMovieId","setSelectedMovieId","trim","length","fetch","concat","encodeURIComponent","then","res","json","data","results","catch","err","MovieCard","_ref","movie","videoId","url","urlObj","URL","hostname","includes","searchParams","get","pathname","slice","e","getYouTubeVideoId","video_url","cursor","transition","border","marginBottom","onClick","async","id","response","ok","mvs","map","m","console","toggleTrailer","title","year","overview","vote_average","color","fontSize","fontWeight","width","height","src","frameBorder","allow","allowFullScreen","marginTop","onSubmit","preventDefault","Error","message","position","type","placeholder","value","onChange","target","marginRight","top","left","right","maxWidth","maxHeight","overflowY","zIndex","idx","handleSelectMovie","borderBottom","RecommendationsPage","recType","setRecType","userId","setUserId","movieId","setMovieId","recommendations","setRecommendations","display","params","URLSearchParams","append","href","rel","textDecoration","App_App","currentPage","setCurrentPage","a","render","StrictMode","document","getElementById","exports"],"sources":["static/js/main.bf27af80.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonphe-thong-goi-y-phim\"] = this[\"webpackJsonphe-thong-goi-y-phim\"] || []).push([[0],{\n\n/***/ 11:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/pages/HomePage.js\nfunction HomePage(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"page-header\",children:\"\\uD83C\\uDFE0 Trang ch\\u1EE7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{background:'#f3f4f6',padding:'20px',borderRadius:'8px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Ch\\xE0o m\\u1EEBng \\u0111\\u1EBFn H\\u1EC7 th\\u1ED1ng G\\u1EE3i \\xFD Phim!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Ch\\u1ECDn m\\u1ED9t trong c\\xE1c t\\xF9y ch\\u1ECDn t\\u1EEB menu b\\xEAn tr\\xE1i \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"\\uD83C\\uDFA5 Phim:\"}),\" T\\xECm ki\\u1EBFm v\\xE0 xem th\\xF4ng tin chi ti\\u1EBFt v\\u1EC1 c\\xE1c b\\u1ED9 phim\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"\\u2B50 G\\u1EE3i \\xFD:\"}),\" Nh\\u1EADn c\\xE1c g\\u1EE3i \\xFD phim c\\xE1 nh\\xE2n d\\u1EF1a tr\\xEAn s\\u1EDF th\\xEDch c\\u1EE7a b\\u1EA1n\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"C\\xE1c lo\\u1EA1i g\\u1EE3i \\xFD:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Collaborative Filtering - G\\u1EE3i \\xFD d\\u1EF1a tr\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng t\\u01B0\\u01A1ng t\\u1EF1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Content-based Filtering - G\\u1EE3i \\xFD d\\u1EF1a tr\\xEAn n\\u1ED9i dung phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:\"Hybrid Filtering - K\\u1EBFt h\\u1EE3p c\\u1EA3 hai ph\\u01B0\\u01A1ng ph\\xE1p\"})]})]})]});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/config.js\nconst API_BASE=\"http://host.docker.internal:8000\"||false;\n// CONCATENATED MODULE: ./src/pages/MoviesPage.js\nfunction MoviesPage(){const[searchQuery,setSearchQuery]=Object(react[\"useState\"])('');const[movies,setMovies]=Object(react[\"useState\"])([]);const[suggestions,setSuggestions]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[showSuggestions,setShowSuggestions]=Object(react[\"useState\"])(false);const[selectedMovieId,setSelectedMovieId]=Object(react[\"useState\"])(null);// Movie đang xem trailer\nObject(react[\"useEffect\"])(()=>{if(searchQuery.trim().length>0){setLoading(true);setError('');fetch(\"\".concat(API_BASE,\"/movies/search?q=\").concat(encodeURIComponent(searchQuery))).then(res=>res.json()).then(data=>{setSuggestions(data.results||[]);setShowSuggestions(true);setLoading(false);}).catch(err=>{setError('Lỗi tìm kiếm gợi ý');setLoading(false);});}else{setSuggestions([]);setShowSuggestions(false);}},[searchQuery]);const handleSelectMovie=async movie=>{setSearchQuery(movie.title);setMovies([movie]);setShowSuggestions(false);setSelectedMovieId(null);// Fetch trailer ngay khi chọn\ntry{const response=await fetch(\"\".concat(API_BASE,\"/movies/\").concat(movie.id,\"/trailer\"));if(response.ok){const data=await response.json();setMovies([Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},movie),{},{video_url:data.video_url})]);}}catch(err){console.error('Error fetching trailer:',err);}};const handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim())return;setLoading(true);setError('');try{const response=await fetch(\"\".concat(API_BASE,\"/movies/search?q=\").concat(encodeURIComponent(searchQuery)));if(!response.ok)throw new Error('Lỗi tìm kiếm');const data=await response.json();setMovies(data.results||[]);setShowSuggestions(false);if(!data.results||data.results.length===0)setError('Không tìm thấy phim nào');}catch(err){setError(err.message);}finally{setLoading(false);}};const getYouTubeVideoId=url=>{if(!url)return null;try{const urlObj=new URL(url);if(urlObj.hostname.includes('youtube.com'))return urlObj.searchParams.get('v');if(urlObj.hostname.includes('youtu.be'))return urlObj.pathname.slice(1);}catch(e){return null;}return null;};const toggleTrailer=async movie=>{if(selectedMovieId===movie.id){setSelectedMovieId(null);// Ẩn trailer nếu click lại\nreturn;}// Nếu chưa có video_url, fetch từ backend\nif(!movie.video_url){try{const response=await fetch(\"\".concat(API_BASE,\"/movies/\").concat(movie.id,\"/trailer\"));if(response.ok){const data=await response.json();setMovies(mvs=>mvs.map(m=>m.id===movie.id?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},m),{},{video_url:data.video_url}):m));}}catch(err){console.error('Error fetching trailer:',err);}}setSelectedMovieId(movie.id);// Hiển thị trailer cho movie này\n};const MovieCard=_ref=>{let{movie}=_ref;const videoId=getYouTubeVideoId(movie.video_url);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie-card\",style:{cursor:'pointer',transition:'all 0.3s ease',padding:'15px',border:'1px solid #e5e7eb',borderRadius:'8px',marginBottom:'15px'},onClick:()=>toggleTrailer(movie),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:movie.overview}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"\\u2B50 \",movie.vote_average||'N/A',\"/10\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:'#3b82f6',fontSize:'14px',fontWeight:'500'},children:\"\\u25B6 Click \\u0111\\u1EC3 xem trailer\"}),selectedMovieId===movie.id&&movie.video_url&&videoId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"iframe\",{width:\"100%\",height:\"400\",src:\"https://www.youtube.com/embed/\".concat(videoId,\"?autoplay=1\"),frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:true,title:\"trailer\",style:{marginTop:'15px',borderRadius:'8px'}})]},movie.id||movie.title);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD83C\\uDFA5 T\\xECm ki\\u1EBFm Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSearch,style:{position:'relative',marginBottom:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp t\\xEAn phim...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{padding:'10px',width:'300px',marginRight:'10px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",style:{padding:'10px'},children:\"T\\xECm ki\\u1EBFm\"}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'absolute',top:'45px',left:0,right:0,maxWidth:'300px',background:'white',border:'1px solid #d1d5db',borderRadius:'6px',maxHeight:'200px',overflowY:'auto',zIndex:10},children:suggestions.slice(0,10).map((movie,idx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:()=>handleSelectMovie(movie),style:{padding:'10px',borderBottom:'1px solid #e5e7eb',cursor:'pointer'},children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]},idx))})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{color:'red'},children:error}),loading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"\\u0110ang t\\u1EA3i...\"}),movies.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"T\\xECm th\\u1EA5y \",movies.length,\" k\\u1EBFt qu\\u1EA3\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:movies.map(movie=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MovieCard,{movie:movie},movie.id||movie.title))})]})]});}\n// CONCATENATED MODULE: ./src/pages/RecommendationsPage.js\nfunction RecommendationsPage(){const[recType,setRecType]=Object(react[\"useState\"])('collaborative');const[userId,setUserId]=Object(react[\"useState\"])('');const[movieId,setMovieId]=Object(react[\"useState\"])('');const[recommendations,setRecommendations]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const handleGetRecommendations=async()=>{setLoading(true);setError('');setRecommendations([]);try{const params=new URLSearchParams();if(userId)params.append('user_id',userId);if(movieId)params.append('movie_id',movieId);params.append('n','10');const response=await fetch(\"http://backend:8000/recommendations/\".concat(recType,\"?\").concat(params));if(!response.ok)throw new Error('Lỗi lấy gợi ý');const data=await response.json();setRecommendations(data.results||[]);if(!data.results||data.results.length===0){setError('Không có gợi ý nào');}}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"page-header\",children:\"\\u2B50 G\\u1EE3i \\xFD Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{background:'#f3f4f6',padding:'20px',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'10px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Lo\\u1EA1i g\\u1EE3i \\xFD:\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:recType,onChange:e=>setRecType(e.target.value),style:{padding:'8px',borderRadius:'6px',border:'1px solid #d1d5db'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"collaborative\",children:\"Collaborative Filtering\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"content\",children:\"Content-based Filtering\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"hybrid\",children:\"Hybrid Filtering\"})]}),(recType==='collaborative'||recType==='hybrid')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'5px'},children:\"ID Ng\\u01B0\\u1EDDi d\\xF9ng (t\\xF9y ch\\u1ECDn):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:userId,onChange:e=>setUserId(e.target.value),className:\"search-box\",style:{maxWidth:'200px'},placeholder:\"Nh\\u1EADp ID\"})]}),(recType==='content'||recType==='hybrid')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'5px'},children:\"ID Phim (t\\xF9y ch\\u1ECDn):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:movieId,onChange:e=>setMovieId(e.target.value),className:\"search-box\",style:{maxWidth:'200px'},placeholder:\"Nh\\u1EADp ID\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleGetRecommendations,className:\"btn\",style:{marginTop:'15px'},children:\"L\\u1EA5y g\\u1EE3i \\xFD\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error\",children:error}),loading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading\",children:\"\\u0110ang t\\u1EA3i...\"}),recommendations.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{marginTop:'20px',color:'#6b7280'},children:[\"C\\xF3 \",recommendations.length,\" g\\u1EE3i \\xFD cho b\\u1EA1n\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"movie-list\",children:recommendations.map((movie,idx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Overview:\"}),\" \",movie.overview]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"rating\",children:[\"\\u2B50 \",movie.vote_average||'N/A',\"/10\"]}),movie.video_url&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:movie.video_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn\",style:{display:'inline-block',textDecoration:'none'},children:\"\\u25B6 Xem trailer\"})})]},idx))})]})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){const[currentPage,setCurrentPage]=Object(react[\"useState\"])('home');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD83C\\uDFAC H\\u1EC7 th\\u1ED1ng G\\u1EE3i \\xFD Phim\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='home'?'active':''),onClick:()=>setCurrentPage('home'),children:\"\\uD83C\\uDFE0 Trang ch\\u1EE7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='movies'?'active':''),onClick:()=>setCurrentPage('movies'),children:\"\\uD83C\\uDFA5 Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='recommendations'?'active':''),onClick:()=>setCurrentPage('recommendations'),children:\"\\u2B50 G\\u1EE3i \\xFD\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"main-content\",children:[currentPage==='home'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HomePage,{}),currentPage==='movies'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoviesPage,{}),currentPage==='recommendations'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecommendationsPage,{})]})]});}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[11,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:/cn/phim/frontend/src/pages/HomePage.js","D:/cn/phim/frontend/src/config.js","D:/cn/phim/frontend/src/pages/MoviesPage.js","D:/cn/phim/frontend/src/pages/RecommendationsPage.js","D:/cn/phim/frontend/src/App.js","D:/cn/phim/frontend/src/index.js","D:\\cn\\phim\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\cn\\phim\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\cn\\phim\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\cn\\phim\\frontend\\src\\App.css"],"names":["HomePage","_jsxs","children","_jsx","className","style","background","padding","borderRadius","API_BASE","process","MoviesPage","searchQuery","setSearchQuery","useState","movies","setMovies","suggestions","setSuggestions","loading","setLoading","error","setError","showSuggestions","setShowSuggestions","selectedMovieId","setSelectedMovieId","useEffect","trim","length","fetch","concat","encodeURIComponent","then","res","json","data","results","catch","err","handleSelectMovie","movie","title","response","id","ok","_objectSpread","video_url","console","handleSearch","e","preventDefault","Error","message","getYouTubeVideoId","url","urlObj","URL","hostname","includes","searchParams","get","pathname","slice","toggleTrailer","mvs","map","m","MovieCard","_ref","videoId","cursor","transition","border","marginBottom","onClick","year","overview","vote_average","color","fontSize","fontWeight","width","height","src","frameBorder","allow","allowFullScreen","marginTop","onSubmit","position","type","placeholder","value","onChange","target","marginRight","top","left","right","maxWidth","maxHeight","overflowY","zIndex","idx","borderBottom","RecommendationsPage","recType","setRecType","userId","setUserId","movieId","setMovieId","recommendations","setRecommendations","handleGetRecommendations","params","URLSearchParams","append","display","href","rel","textDecoration","App","currentPage","setCurrentPage","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\r\n\r\nexport default function HomePage() {\r\n  return (\r\n    <div>\r\n      <h1 className=\"page-header\">🏠 Trang chủ</h1>\r\n      <div style={{ background: '#f3f4f6', padding: '20px', borderRadius: '8px' }}>\r\n        <h2>Chào mừng đến Hệ thống Gợi ý Phim!</h2>\r\n        <p>Chọn một trong các tùy chọn từ menu bên trái để bắt đầu:</p>\r\n        <ul>\r\n          <li><strong>🎥 Phim:</strong> Tìm kiếm và xem thông tin chi tiết về các bộ phim</li>\r\n          <li><strong>⭐ Gợi ý:</strong> Nhận các gợi ý phim cá nhân dựa trên sở thích của bạn</li>\r\n        </ul>\r\n        <h3>Các loại gợi ý:</h3>\r\n        <ul>\r\n          <li>Collaborative Filtering - Gợi ý dựa trên người dùng tương tự</li>\r\n          <li>Content-based Filtering - Gợi ý dựa trên nội dung phim</li>\r\n          <li>Hybrid Filtering - Kết hợp cả hai phương pháp</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000\";\r\n","import React, { useState, useEffect } from 'react';\r\nimport { API_BASE } from '../config';\r\n\r\nexport default function MoviesPage() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [selectedMovieId, setSelectedMovieId] = useState(null); // Movie đang xem trailer\r\n\r\n  useEffect(() => {\r\n    if (searchQuery.trim().length > 0) {\r\n      setLoading(true);\r\n      setError('');\r\n      fetch(`${API_BASE}/movies/search?q=${encodeURIComponent(searchQuery)}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setSuggestions(data.results || []);\r\n          setShowSuggestions(true);\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          setError('Lỗi tìm kiếm gợi ý');\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  const handleSelectMovie = async (movie) => {\r\n    setSearchQuery(movie.title);\r\n    setMovies([movie]);\r\n    setShowSuggestions(false);\r\n    setSelectedMovieId(null);\r\n\r\n    // Fetch trailer ngay khi chọn\r\n    try {\r\n      const response = await fetch(`${API_BASE}/movies/${movie.id}/trailer`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMovies([{ ...movie, video_url: data.video_url }]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching trailer:', err);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim()) return;\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/movies/search?q=${encodeURIComponent(searchQuery)}`);\r\n      if (!response.ok) throw new Error('Lỗi tìm kiếm');\r\n      const data = await response.json();\r\n      setMovies(data.results || []);\r\n      setShowSuggestions(false);\r\n      if (!data.results || data.results.length === 0) setError('Không tìm thấy phim nào');\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getYouTubeVideoId = (url) => {\r\n    if (!url) return null;\r\n    try {\r\n      const urlObj = new URL(url);\r\n      if (urlObj.hostname.includes('youtube.com')) return urlObj.searchParams.get('v');\r\n      if (urlObj.hostname.includes('youtu.be')) return urlObj.pathname.slice(1);\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const toggleTrailer = async (movie) => {\r\n    if (selectedMovieId === movie.id) {\r\n      setSelectedMovieId(null); // Ẩn trailer nếu click lại\r\n      return;\r\n    }\r\n\r\n    // Nếu chưa có video_url, fetch từ backend\r\n    if (!movie.video_url) {\r\n      try {\r\n        const response = await fetch(`${API_BASE}/movies/${movie.id}/trailer`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setMovies(mvs => mvs.map(m => m.id === movie.id ? { ...m, video_url: data.video_url } : m));\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching trailer:', err);\r\n      }\r\n    }\r\n\r\n    setSelectedMovieId(movie.id); // Hiển thị trailer cho movie này\r\n  };\r\n\r\n  const MovieCard = ({ movie }) => {\r\n    const videoId = getYouTubeVideoId(movie.video_url);\r\n\r\n    return (\r\n      <div \r\n        key={movie.id || movie.title} \r\n        className=\"movie-card\"\r\n        style={{ cursor: 'pointer', transition: 'all 0.3s ease', padding: '15px', border: '1px solid #e5e7eb', borderRadius: '8px', marginBottom: '15px' }}\r\n        onClick={() => toggleTrailer(movie)}\r\n      >\r\n        <h3>{movie.title} {movie.year > 0 && `(${movie.year})`}</h3>\r\n        <p>{movie.overview}</p>\r\n        <p>⭐ {movie.vote_average || 'N/A'}/10</p>\r\n        <p style={{ color: '#3b82f6', fontSize: '14px', fontWeight: '500' }}>▶ Click để xem trailer</p>\r\n\r\n        {/* Hiển thị trailer ngay dưới phim nếu movie đang được chọn */}\r\n        {selectedMovieId === movie.id && movie.video_url && videoId && (\r\n          <iframe \r\n            width=\"100%\" \r\n            height=\"400\" \r\n            src={`https://www.youtube.com/embed/${videoId}?autoplay=1`} \r\n            frameBorder=\"0\" \r\n            allow=\"autoplay; encrypted-media\" \r\n            allowFullScreen \r\n            title=\"trailer\"\r\n            style={{ marginTop: '15px', borderRadius: '8px' }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>🎥 Tìm kiếm Phim</h1>\r\n      <form onSubmit={handleSearch} style={{ position: 'relative', marginBottom: '20px' }}>\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Nhập tên phim...\" \r\n          value={searchQuery} \r\n          onChange={(e) => setSearchQuery(e.target.value)} \r\n          style={{ padding: '10px', width: '300px', marginRight: '10px' }}\r\n        />\r\n        <button type=\"submit\" style={{ padding: '10px' }}>Tìm kiếm</button>\r\n\r\n        {showSuggestions && suggestions.length > 0 && (\r\n          <div style={{ position: 'absolute', top: '45px', left: 0, right: 0, maxWidth: '300px', background: 'white', border: '1px solid #d1d5db', borderRadius: '6px', maxHeight: '200px', overflowY: 'auto', zIndex: 10 }}>\r\n            {suggestions.slice(0, 10).map((movie, idx) => (\r\n              <div key={idx} onClick={() => handleSelectMovie(movie)} style={{ padding: '10px', borderBottom: '1px solid #e5e7eb', cursor: 'pointer' }}>\r\n                {movie.title} {movie.year > 0 && `(${movie.year})`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      {loading && <div>Đang tải...</div>}\r\n\r\n      {movies.length > 0 && (\r\n        <div>\r\n          <h3>Tìm thấy {movies.length} kết quả</h3>\r\n          <div>\r\n            {movies.map(movie => <MovieCard key={movie.id || movie.title} movie={movie} />)}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function RecommendationsPage() {\r\n  const [recType, setRecType] = useState('collaborative');\r\n  const [userId, setUserId] = useState('');\r\n  const [movieId, setMovieId] = useState('');\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleGetRecommendations = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    setRecommendations([]);\r\n\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (userId) params.append('user_id', userId);\r\n      if (movieId) params.append('movie_id', movieId);\r\n      params.append('n', '10');\r\n\r\n      const response = await fetch(`http://backend:8000/recommendations/${recType}?${params}`);\r\n      if (!response.ok) throw new Error('Lỗi lấy gợi ý');\r\n      const data = await response.json();\r\n      setRecommendations(data.results || []);\r\n      if (!data.results || data.results.length === 0) {\r\n        setError('Không có gợi ý nào');\r\n      }\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"page-header\">⭐ Gợi ý Phim</h1>\r\n\r\n      <div style={{ background: '#f3f4f6', padding: '20px', borderRadius: '8px', marginBottom: '20px' }}>\r\n        <label style={{ display: 'block', marginBottom: '10px' }}>\r\n          <strong>Loại gợi ý:</strong>\r\n        </label>\r\n        <select \r\n          value={recType} \r\n          onChange={(e) => setRecType(e.target.value)}\r\n          style={{ padding: '8px', borderRadius: '6px', border: '1px solid #d1d5db' }}\r\n        >\r\n          <option value=\"collaborative\">Collaborative Filtering</option>\r\n          <option value=\"content\">Content-based Filtering</option>\r\n          <option value=\"hybrid\">Hybrid Filtering</option>\r\n        </select>\r\n\r\n        {(recType === 'collaborative' || recType === 'hybrid') && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <label style={{ display: 'block', marginBottom: '5px' }}>\r\n              ID Người dùng (tùy chọn):\r\n            </label>\r\n            <input \r\n              type=\"number\"\r\n              value={userId}\r\n              onChange={(e) => setUserId(e.target.value)}\r\n              className=\"search-box\"\r\n              style={{ maxWidth: '200px' }}\r\n              placeholder=\"Nhập ID\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {(recType === 'content' || recType === 'hybrid') && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <label style={{ display: 'block', marginBottom: '5px' }}>\r\n              ID Phim (tùy chọn):\r\n            </label>\r\n            <input \r\n              type=\"number\"\r\n              value={movieId}\r\n              onChange={(e) => setMovieId(e.target.value)}\r\n              className=\"search-box\"\r\n              style={{ maxWidth: '200px' }}\r\n              placeholder=\"Nhập ID\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <button onClick={handleGetRecommendations} className=\"btn\" style={{ marginTop: '15px' }}>\r\n          Lấy gợi ý\r\n        </button>\r\n      </div>\r\n\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {loading && <div className=\"loading\">Đang tải...</div>}\r\n\r\n      {recommendations.length > 0 && (\r\n        <div>\r\n          <p style={{ marginTop: '20px', color: '#6b7280' }}>Có {recommendations.length} gợi ý cho bạn</p>\r\n          <div className=\"movie-list\">\r\n            {recommendations.map((movie, idx) => (\r\n              <div key={idx} className=\"movie-card\">\r\n                <h3>{movie.title} {movie.year > 0 && `(${movie.year})`}</h3>\r\n                <p><strong>Overview:</strong> {movie.overview}</p>\r\n                <p className=\"rating\">⭐ {movie.vote_average || 'N/A'}/10</p>\r\n                {movie.video_url && (\r\n                  <div style={{ marginTop: '10px' }}>\r\n                    <a href={movie.video_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn\" style={{ display: 'inline-block', textDecoration: 'none' }}>\r\n                      ▶ Xem trailer\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport HomePage from './pages/HomePage';\r\nimport MoviesPage from './pages/MoviesPage';\r\nimport RecommendationsPage from './pages/RecommendationsPage';\r\n\r\nexport default function App() {\r\n  const [currentPage, setCurrentPage] = useState('home');\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <aside className=\"sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <h1>🎬 Hệ thống Gợi ý Phim</h1>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          <button \r\n            className={`nav-link ${currentPage === 'home' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('home')}\r\n          >\r\n            🏠 Trang chủ\r\n          </button>\r\n          <button \r\n            className={`nav-link ${currentPage === 'movies' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('movies')}\r\n          >\r\n            🎥 Phim\r\n          </button>\r\n          <button \r\n            className={`nav-link ${currentPage === 'recommendations' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('recommendations')}\r\n          >\r\n            ⭐ Gợi ý\r\n          </button>\r\n        </nav>\r\n      </aside>\r\n\r\n      <main className=\"main-content\">\r\n        {currentPage === 'home' && <HomePage />}\r\n        {currentPage === 'movies' && <MoviesPage />}\r\n        {currentPage === 'recommendations' && <RecommendationsPage />}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin"]}}