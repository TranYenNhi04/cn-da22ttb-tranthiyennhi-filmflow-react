{"code":"(this[\"webpackJsonphe-thong-goi-y-phim\"]=this[\"webpackJsonphe-thong-goi-y-phim\"]||[]).push([[0],{10:function(e,t,i){},12:function(e,t,i){\"use strict\";i.r(t);var c=i(1),s=i.n(c),n=i(4),r=i.n(n),a=(i(9),i(10),i(0));function o(){const[e,t]=Object(c.useState)([]);return Object(c.useEffect)(()=>{t([{id:1,title:\"Avatar 2\",year:2022,poster:\"/poster1.jpg\"},{id:2,title:\"Spider-Man: No Way Home\",year:2021,poster:\"/poster2.jpg\"},{id:3,title:\"The Batman\",year:2022,poster:\"/poster3.jpg\"},{id:4,title:\"Thor: Love and Thunder\",year:2022,poster:\"/poster4.jpg\"},{id:5,title:\"Doctor Strange 2\",year:2022,poster:\"/poster5.jpg\"}])},[]),Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"div\",{className:\"hero\",children:Object(a.jsx)(\"h2\",{children:\"Kh\\xe1m ph\\xe1 nh\\u1eefng b\\u1ed9 phim m\\u1edbi nh\\u1ea5t \\ud83c\\udfac\"})}),Object(a.jsx)(\"h3\",{children:\"Phim m\\u1edbi\"}),Object(a.jsx)(\"div\",{className:\"movie-grid\",children:e.map(e=>Object(a.jsxs)(\"div\",{className:\"movie-card\",children:[Object(a.jsx)(\"img\",{src:e.poster,alt:e.title}),Object(a.jsxs)(\"div\",{className:\"info\",children:[Object(a.jsx)(\"div\",{className:\"title\",children:e.title}),Object(a.jsx)(\"div\",{className:\"year\",children:e.year})]})]},e.id))})]})}var l=i(2);const d=\"http://host.docker.internal:8000\";function h(){const[e,t]=Object(c.useState)(\"\"),[i,s]=Object(c.useState)([]),[n,r]=Object(c.useState)([]),[o,h]=Object(c.useState)(!1),[j,b]=Object(c.useState)(\"\"),[m,p]=Object(c.useState)(!1),[x,u]=Object(c.useState)(null);Object(c.useEffect)(()=>{e.trim().length>0?(h(!0),b(\"\"),fetch(\"\".concat(d,\"/movies/search?q=\").concat(encodeURIComponent(e))).then(e=>e.json()).then(e=>{r(e.results||[]),p(!0),h(!1)}).catch(e=>{b(\"L\\u1ed7i t\\xecm ki\\u1ebfm g\\u1ee3i \\xfd\"),h(!1)})):(r([]),p(!1))},[e]);const O=e=>{let{movie:t}=e;const i=(e=>{if(!e)return null;try{const t=new URL(e);if(t.hostname.includes(\"youtube.com\"))return t.searchParams.get(\"v\");if(t.hostname.includes(\"youtu.be\"))return t.pathname.slice(1)}catch(t){return null}return null})(t.video_url);return Object(a.jsxs)(\"div\",{className:\"movie-card\",style:{cursor:\"pointer\",transition:\"all 0.3s ease\",padding:\"15px\",border:\"1px solid #e5e7eb\",borderRadius:\"8px\",marginBottom:\"15px\"},onClick:()=>(async e=>{if(x!==e.id){if(!e.video_url)try{const t=await fetch(\"\".concat(d,\"/movies/\").concat(e.id,\"/trailer\"));if(t.ok){const i=await t.json();s(t=>t.map(t=>t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{video_url:i.video_url}):t))}}catch(t){console.error(\"Error fetching trailer:\",t)}u(e.id)}else u(null)})(t),children:[Object(a.jsxs)(\"h3\",{children:[t.title,\" \",t.year>0&&\"(\".concat(t.year,\")\")]}),Object(a.jsx)(\"p\",{children:t.overview}),Object(a.jsxs)(\"p\",{children:[\"\\u2b50 \",t.vote_average||\"N/A\",\"/10\"]}),Object(a.jsx)(\"p\",{style:{color:\"#3b82f6\",fontSize:\"14px\",fontWeight:\"500\"},children:\"\\u25b6 Click \\u0111\\u1ec3 xem trailer\"}),x===t.id&&t.video_url&&i&&Object(a.jsx)(\"iframe\",{width:\"100%\",height:\"400\",src:\"https://www.youtube.com/embed/\".concat(i,\"?autoplay=1\"),frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:!0,title:\"trailer\",style:{marginTop:\"15px\",borderRadius:\"8px\"}})]},t.id||t.title)};return Object(a.jsxs)(\"div\",{style:{padding:\"20px\"},children:[Object(a.jsx)(\"h1\",{children:\"\\ud83c\\udfa5 T\\xecm ki\\u1ebfm Phim\"}),Object(a.jsxs)(\"form\",{onSubmit:async t=>{if(t.preventDefault(),e.trim()){h(!0),b(\"\");try{const t=await fetch(\"\".concat(d,\"/movies/search?q=\").concat(encodeURIComponent(e)));if(!t.ok)throw new Error(\"L\\u1ed7i t\\xecm ki\\u1ebfm\");const i=await t.json();s(i.results||[]),p(!1),i.results&&0!==i.results.length||b(\"Kh\\xf4ng t\\xecm th\\u1ea5y phim n\\xe0o\")}catch(i){b(i.message)}finally{h(!1)}}},style:{position:\"relative\",marginBottom:\"20px\"},children:[Object(a.jsx)(\"input\",{type:\"text\",placeholder:\"Nh\\u1eadp t\\xean phim...\",value:e,onChange:e=>t(e.target.value),style:{padding:\"10px\",width:\"300px\",marginRight:\"10px\"}}),Object(a.jsx)(\"button\",{type:\"submit\",style:{padding:\"10px\"},children:\"T\\xecm ki\\u1ebfm\"}),m&&n.length>0&&Object(a.jsx)(\"div\",{style:{position:\"absolute\",top:\"45px\",left:0,right:0,maxWidth:\"300px\",background:\"white\",border:\"1px solid #d1d5db\",borderRadius:\"6px\",maxHeight:\"200px\",overflowY:\"auto\",zIndex:10},children:n.slice(0,10).map((e,i)=>Object(a.jsxs)(\"div\",{onClick:()=>(async e=>{t(e.title),s([e]),p(!1),u(null);try{const t=await fetch(\"\".concat(d,\"/movies/\").concat(e.id,\"/trailer\"));if(t.ok){const i=await t.json();s([Object(l.a)(Object(l.a)({},e),{},{video_url:i.video_url})])}}catch(i){console.error(\"Error fetching trailer:\",i)}})(e),style:{padding:\"10px\",borderBottom:\"1px solid #e5e7eb\",cursor:\"pointer\"},children:[e.title,\" \",e.year>0&&\"(\".concat(e.year,\")\")]},i))})]}),j&&Object(a.jsx)(\"div\",{style:{color:\"red\"},children:j}),o&&Object(a.jsx)(\"div\",{children:\"\\u0110ang t\\u1ea3i...\"}),i.length>0&&Object(a.jsxs)(\"div\",{children:[Object(a.jsxs)(\"h3\",{children:[\"T\\xecm th\\u1ea5y \",i.length,\" k\\u1ebft qu\\u1ea3\"]}),Object(a.jsx)(\"div\",{children:i.map(e=>Object(a.jsx)(O,{movie:e},e.id||e.title))})]})]})}function j(){const[e,t]=Object(c.useState)(\"collaborative\"),[i,s]=Object(c.useState)(\"\"),[n,r]=Object(c.useState)(\"\"),[o,l]=Object(c.useState)([]),[d,h]=Object(c.useState)(!1),[j,b]=Object(c.useState)(\"\");return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"h1\",{className:\"page-header\",children:\"\\u2b50 G\\u1ee3i \\xfd Phim\"}),Object(a.jsxs)(\"div\",{style:{background:\"#f3f4f6\",padding:\"20px\",borderRadius:\"8px\",marginBottom:\"20px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"10px\"},children:Object(a.jsx)(\"strong\",{children:\"Lo\\u1ea1i g\\u1ee3i \\xfd:\"})}),Object(a.jsxs)(\"select\",{value:e,onChange:e=>t(e.target.value),style:{padding:\"8px\",borderRadius:\"6px\",border:\"1px solid #d1d5db\"},children:[Object(a.jsx)(\"option\",{value:\"collaborative\",children:\"Collaborative Filtering\"}),Object(a.jsx)(\"option\",{value:\"content\",children:\"Content-based Filtering\"}),Object(a.jsx)(\"option\",{value:\"hybrid\",children:\"Hybrid Filtering\"})]}),(\"collaborative\"===e||\"hybrid\"===e)&&Object(a.jsxs)(\"div\",{style:{marginTop:\"15px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"ID Ng\\u01b0\\u1eddi d\\xf9ng (t\\xf9y ch\\u1ecdn):\"}),Object(a.jsx)(\"input\",{type:\"number\",value:i,onChange:e=>s(e.target.value),className:\"search-box\",style:{maxWidth:\"200px\"},placeholder:\"Nh\\u1eadp ID\"})]}),(\"content\"===e||\"hybrid\"===e)&&Object(a.jsxs)(\"div\",{style:{marginTop:\"15px\"},children:[Object(a.jsx)(\"label\",{style:{display:\"block\",marginBottom:\"5px\"},children:\"ID Phim (t\\xf9y ch\\u1ecdn):\"}),Object(a.jsx)(\"input\",{type:\"number\",value:n,onChange:e=>r(e.target.value),className:\"search-box\",style:{maxWidth:\"200px\"},placeholder:\"Nh\\u1eadp ID\"})]}),Object(a.jsx)(\"button\",{onClick:async()=>{h(!0),b(\"\"),l([]);try{const t=new URLSearchParams;i&&t.append(\"user_id\",i),n&&t.append(\"movie_id\",n),t.append(\"n\",\"10\");const c=await fetch(\"http://backend:8000/recommendations/\".concat(e,\"?\").concat(t));if(!c.ok)throw new Error(\"L\\u1ed7i l\\u1ea5y g\\u1ee3i \\xfd\");const s=await c.json();l(s.results||[]),s.results&&0!==s.results.length||b(\"Kh\\xf4ng c\\xf3 g\\u1ee3i \\xfd n\\xe0o\")}catch(t){b(t.message)}finally{h(!1)}},className:\"btn\",style:{marginTop:\"15px\"},children:\"L\\u1ea5y g\\u1ee3i \\xfd\"})]}),j&&Object(a.jsx)(\"div\",{className:\"error\",children:j}),d&&Object(a.jsx)(\"div\",{className:\"loading\",children:\"\\u0110ang t\\u1ea3i...\"}),o.length>0&&Object(a.jsxs)(\"div\",{children:[Object(a.jsxs)(\"p\",{style:{marginTop:\"20px\",color:\"#6b7280\"},children:[\"C\\xf3 \",o.length,\" g\\u1ee3i \\xfd cho b\\u1ea1n\"]}),Object(a.jsx)(\"div\",{className:\"movie-list\",children:o.map((e,t)=>Object(a.jsxs)(\"div\",{className:\"movie-card\",children:[Object(a.jsxs)(\"h3\",{children:[e.title,\" \",e.year>0&&\"(\".concat(e.year,\")\")]}),Object(a.jsxs)(\"p\",{children:[Object(a.jsx)(\"strong\",{children:\"Overview:\"}),\" \",e.overview]}),Object(a.jsxs)(\"p\",{className:\"rating\",children:[\"\\u2b50 \",e.vote_average||\"N/A\",\"/10\"]}),e.video_url&&Object(a.jsx)(\"div\",{style:{marginTop:\"10px\"},children:Object(a.jsx)(\"a\",{href:e.video_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn\",style:{display:\"inline-block\",textDecoration:\"none\"},children:\"\\u25b6 Xem trailer\"})})]},t))})]})]})}function b(){const[e,t]=Object(c.useState)(\"home\");return Object(a.jsxs)(\"div\",{className:\"app-container\",children:[Object(a.jsxs)(\"aside\",{className:\"sidebar\",children:[Object(a.jsx)(\"div\",{className:\"sidebar-header\",children:Object(a.jsx)(\"h1\",{children:\"\\ud83c\\udfac H\\u1ec7 th\\u1ed1ng G\\u1ee3i \\xfd Phim\"})}),Object(a.jsxs)(\"nav\",{className:\"sidebar-nav\",children:[Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"home\"===e?\"active\":\"\"),onClick:()=>t(\"home\"),children:\"\\ud83c\\udfe0 Trang ch\\u1ee7\"}),Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"movies\"===e?\"active\":\"\"),onClick:()=>t(\"movies\"),children:\"\\ud83c\\udfa5 Phim\"}),Object(a.jsx)(\"button\",{className:\"nav-link \".concat(\"recommendations\"===e?\"active\":\"\"),onClick:()=>t(\"recommendations\"),children:\"\\u2b50 G\\u1ee3i \\xfd\"})]})]}),Object(a.jsxs)(\"main\",{className:\"main-content\",children:[\"home\"===e&&Object(a.jsx)(o,{}),\"movies\"===e&&Object(a.jsx)(h,{}),\"recommendations\"===e&&Object(a.jsx)(j,{})]})]})}r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById(\"root\"))},9:function(e,t,i){}},[[12,1,2]]]);","name":"static/js/main.44b8181a.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","HomePage_HomePage","newMovies","setNewMovies","Object","id","title","year","poster","children","className","map","movie","src","alt","objectSpread2","API_BASE","MoviesPage","searchQuery","setSearchQuery","movies","setMovies","suggestions","setSuggestions","loading","setLoading","error","setError","showSuggestions","setShowSuggestions","selectedMovieId","setSelectedMovieId","trim","length","fetch","concat","encodeURIComponent","then","res","json","data","results","catch","err","MovieCard","_ref","videoId","url","urlObj","URL","hostname","includes","searchParams","get","pathname","slice","e","getYouTubeVideoId","video_url","style","cursor","transition","padding","border","borderRadius","marginBottom","onClick","async","response","ok","mvs","m","console","toggleTrailer","overview","vote_average","color","fontSize","fontWeight","width","height","frameBorder","allow","allowFullScreen","marginTop","onSubmit","preventDefault","Error","message","position","type","placeholder","value","onChange","target","marginRight","top","left","right","maxWidth","background","maxHeight","overflowY","zIndex","idx","handleSelectMovie","borderBottom","RecommendationsPage","recType","setRecType","userId","setUserId","movieId","setMovieId","recommendations","setRecommendations","display","params","URLSearchParams","append","href","rel","textDecoration","App_App","currentPage","setCurrentPage","a","render","StrictMode","document","getElementById"],"sources":["static/js/main.44b8181a.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonphe-thong-goi-y-phim\"] = this[\"webpackJsonphe-thong-goi-y-phim\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/pages/HomePage.css\nvar HomePage = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/pages/HomePage.js\nfunction HomePage_HomePage(){const[newMovies,setNewMovies]=Object(react[\"useState\"])([]);// Ví dụ fake API call\nObject(react[\"useEffect\"])(()=>{const movies=[{id:1,title:\"Avatar 2\",year:2022,poster:\"/poster1.jpg\"},{id:2,title:\"Spider-Man: No Way Home\",year:2021,poster:\"/poster2.jpg\"},{id:3,title:\"The Batman\",year:2022,poster:\"/poster3.jpg\"},{id:4,title:\"Thor: Love and Thunder\",year:2022,poster:\"/poster4.jpg\"},{id:5,title:\"Doctor Strange 2\",year:2022,poster:\"/poster5.jpg\"}];setNewMovies(movies);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"hero\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Kh\\xE1m ph\\xE1 nh\\u1EEFng b\\u1ED9 phim m\\u1EDBi nh\\u1EA5t \\uD83C\\uDFAC\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Phim m\\u1EDBi\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"movie-grid\",children:newMovies.map(movie=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:movie.poster,alt:movie.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"title\",children:movie.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"year\",children:movie.year})]})]},movie.id))})]});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/config.js\nconst API_BASE=\"http://host.docker.internal:8000\"||false;\n// CONCATENATED MODULE: ./src/pages/MoviesPage.js\nfunction MoviesPage(){const[searchQuery,setSearchQuery]=Object(react[\"useState\"])('');const[movies,setMovies]=Object(react[\"useState\"])([]);const[suggestions,setSuggestions]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[showSuggestions,setShowSuggestions]=Object(react[\"useState\"])(false);const[selectedMovieId,setSelectedMovieId]=Object(react[\"useState\"])(null);// Movie đang xem trailer\nObject(react[\"useEffect\"])(()=>{if(searchQuery.trim().length>0){setLoading(true);setError('');fetch(\"\".concat(API_BASE,\"/movies/search?q=\").concat(encodeURIComponent(searchQuery))).then(res=>res.json()).then(data=>{setSuggestions(data.results||[]);setShowSuggestions(true);setLoading(false);}).catch(err=>{setError('Lỗi tìm kiếm gợi ý');setLoading(false);});}else{setSuggestions([]);setShowSuggestions(false);}},[searchQuery]);const handleSelectMovie=async movie=>{setSearchQuery(movie.title);setMovies([movie]);setShowSuggestions(false);setSelectedMovieId(null);// Fetch trailer ngay khi chọn\ntry{const response=await fetch(\"\".concat(API_BASE,\"/movies/\").concat(movie.id,\"/trailer\"));if(response.ok){const data=await response.json();setMovies([Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},movie),{},{video_url:data.video_url})]);}}catch(err){console.error('Error fetching trailer:',err);}};const handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim())return;setLoading(true);setError('');try{const response=await fetch(\"\".concat(API_BASE,\"/movies/search?q=\").concat(encodeURIComponent(searchQuery)));if(!response.ok)throw new Error('Lỗi tìm kiếm');const data=await response.json();setMovies(data.results||[]);setShowSuggestions(false);if(!data.results||data.results.length===0)setError('Không tìm thấy phim nào');}catch(err){setError(err.message);}finally{setLoading(false);}};const getYouTubeVideoId=url=>{if(!url)return null;try{const urlObj=new URL(url);if(urlObj.hostname.includes('youtube.com'))return urlObj.searchParams.get('v');if(urlObj.hostname.includes('youtu.be'))return urlObj.pathname.slice(1);}catch(e){return null;}return null;};const toggleTrailer=async movie=>{if(selectedMovieId===movie.id){setSelectedMovieId(null);// Ẩn trailer nếu click lại\nreturn;}// Nếu chưa có video_url, fetch từ backend\nif(!movie.video_url){try{const response=await fetch(\"\".concat(API_BASE,\"/movies/\").concat(movie.id,\"/trailer\"));if(response.ok){const data=await response.json();setMovies(mvs=>mvs.map(m=>m.id===movie.id?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},m),{},{video_url:data.video_url}):m));}}catch(err){console.error('Error fetching trailer:',err);}}setSelectedMovieId(movie.id);// Hiển thị trailer cho movie này\n};const MovieCard=_ref=>{let{movie}=_ref;const videoId=getYouTubeVideoId(movie.video_url);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie-card\",style:{cursor:'pointer',transition:'all 0.3s ease',padding:'15px',border:'1px solid #e5e7eb',borderRadius:'8px',marginBottom:'15px'},onClick:()=>toggleTrailer(movie),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:movie.overview}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"\\u2B50 \",movie.vote_average||'N/A',\"/10\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:'#3b82f6',fontSize:'14px',fontWeight:'500'},children:\"\\u25B6 Click \\u0111\\u1EC3 xem trailer\"}),selectedMovieId===movie.id&&movie.video_url&&videoId&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"iframe\",{width:\"100%\",height:\"400\",src:\"https://www.youtube.com/embed/\".concat(videoId,\"?autoplay=1\"),frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:true,title:\"trailer\",style:{marginTop:'15px',borderRadius:'8px'}})]},movie.id||movie.title);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD83C\\uDFA5 T\\xECm ki\\u1EBFm Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSearch,style:{position:'relative',marginBottom:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp t\\xEAn phim...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{padding:'10px',width:'300px',marginRight:'10px'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",style:{padding:'10px'},children:\"T\\xECm ki\\u1EBFm\"}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'absolute',top:'45px',left:0,right:0,maxWidth:'300px',background:'white',border:'1px solid #d1d5db',borderRadius:'6px',maxHeight:'200px',overflowY:'auto',zIndex:10},children:suggestions.slice(0,10).map((movie,idx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:()=>handleSelectMovie(movie),style:{padding:'10px',borderBottom:'1px solid #e5e7eb',cursor:'pointer'},children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]},idx))})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{color:'red'},children:error}),loading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"\\u0110ang t\\u1EA3i...\"}),movies.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"T\\xECm th\\u1EA5y \",movies.length,\" k\\u1EBFt qu\\u1EA3\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:movies.map(movie=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MovieCard,{movie:movie},movie.id||movie.title))})]})]});}\n// CONCATENATED MODULE: ./src/pages/RecommendationsPage.js\nfunction RecommendationsPage(){const[recType,setRecType]=Object(react[\"useState\"])('collaborative');const[userId,setUserId]=Object(react[\"useState\"])('');const[movieId,setMovieId]=Object(react[\"useState\"])('');const[recommendations,setRecommendations]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const handleGetRecommendations=async()=>{setLoading(true);setError('');setRecommendations([]);try{const params=new URLSearchParams();if(userId)params.append('user_id',userId);if(movieId)params.append('movie_id',movieId);params.append('n','10');const response=await fetch(\"http://backend:8000/recommendations/\".concat(recType,\"?\").concat(params));if(!response.ok)throw new Error('Lỗi lấy gợi ý');const data=await response.json();setRecommendations(data.results||[]);if(!data.results||data.results.length===0){setError('Không có gợi ý nào');}}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"page-header\",children:\"\\u2B50 G\\u1EE3i \\xFD Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{background:'#f3f4f6',padding:'20px',borderRadius:'8px',marginBottom:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'10px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Lo\\u1EA1i g\\u1EE3i \\xFD:\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:recType,onChange:e=>setRecType(e.target.value),style:{padding:'8px',borderRadius:'6px',border:'1px solid #d1d5db'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"collaborative\",children:\"Collaborative Filtering\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"content\",children:\"Content-based Filtering\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"hybrid\",children:\"Hybrid Filtering\"})]}),(recType==='collaborative'||recType==='hybrid')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'5px'},children:\"ID Ng\\u01B0\\u1EDDi d\\xF9ng (t\\xF9y ch\\u1ECDn):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:userId,onChange:e=>setUserId(e.target.value),className:\"search-box\",style:{maxWidth:'200px'},placeholder:\"Nh\\u1EADp ID\"})]}),(recType==='content'||recType==='hybrid')&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:'15px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{display:'block',marginBottom:'5px'},children:\"ID Phim (t\\xF9y ch\\u1ECDn):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:movieId,onChange:e=>setMovieId(e.target.value),className:\"search-box\",style:{maxWidth:'200px'},placeholder:\"Nh\\u1EADp ID\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleGetRecommendations,className:\"btn\",style:{marginTop:'15px'},children:\"L\\u1EA5y g\\u1EE3i \\xFD\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error\",children:error}),loading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loading\",children:\"\\u0110ang t\\u1EA3i...\"}),recommendations.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{marginTop:'20px',color:'#6b7280'},children:[\"C\\xF3 \",recommendations.length,\" g\\u1EE3i \\xFD cho b\\u1EA1n\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"movie-list\",children:recommendations.map((movie,idx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"movie-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[movie.title,\" \",movie.year>0&&\"(\".concat(movie.year,\")\")]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Overview:\"}),\" \",movie.overview]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"rating\",children:[\"\\u2B50 \",movie.vote_average||'N/A',\"/10\"]}),movie.video_url&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:movie.video_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"btn\",style:{display:'inline-block',textDecoration:'none'},children:\"\\u25B6 Xem trailer\"})})]},idx))})]})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){const[currentPage,setCurrentPage]=Object(react[\"useState\"])('home');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"\\uD83C\\uDFAC H\\u1EC7 th\\u1ED1ng G\\u1EE3i \\xFD Phim\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='home'?'active':''),onClick:()=>setCurrentPage('home'),children:\"\\uD83C\\uDFE0 Trang ch\\u1EE7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='movies'?'active':''),onClick:()=>setCurrentPage('movies'),children:\"\\uD83C\\uDFA5 Phim\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"nav-link \".concat(currentPage==='recommendations'?'active':''),onClick:()=>setCurrentPage('recommendations'),children:\"\\u2B50 G\\u1EE3i \\xFD\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"main-content\",children:[currentPage==='home'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HomePage_HomePage,{}),currentPage==='movies'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoviesPage,{}),currentPage==='recommendations'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecommendationsPage,{})]})]});}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[12,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\cn\\phim\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\cn\\phim\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\cn\\phim\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\cn\\phim\\frontend\\src\\pages\\HomePage.css","D:/cn/phim/frontend/src/pages/HomePage.js","D:/cn/phim/frontend/src/config.js","D:/cn/phim/frontend/src/pages/MoviesPage.js","D:/cn/phim/frontend/src/pages/RecommendationsPage.js","D:/cn/phim/frontend/src/App.js","D:/cn/phim/frontend/src/index.js","D:\\cn\\phim\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\cn\\phim\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\cn\\phim\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\cn\\phim\\frontend\\src\\App.css"],"names":["HomePage","newMovies","setNewMovies","useState","useEffect","movies","id","title","year","poster","_jsxs","children","_jsx","className","map","movie","src","alt","API_BASE","process","MoviesPage","searchQuery","setSearchQuery","setMovies","suggestions","setSuggestions","loading","setLoading","error","setError","showSuggestions","setShowSuggestions","selectedMovieId","setSelectedMovieId","trim","length","fetch","concat","encodeURIComponent","then","res","json","data","results","catch","err","handleSelectMovie","response","ok","_objectSpread","video_url","console","handleSearch","e","preventDefault","Error","message","getYouTubeVideoId","url","urlObj","URL","hostname","includes","searchParams","get","pathname","slice","toggleTrailer","mvs","m","MovieCard","_ref","videoId","style","cursor","transition","padding","border","borderRadius","marginBottom","onClick","overview","vote_average","color","fontSize","fontWeight","width","height","frameBorder","allow","allowFullScreen","marginTop","onSubmit","position","type","placeholder","value","onChange","target","marginRight","top","left","right","maxWidth","background","maxHeight","overflowY","zIndex","idx","borderBottom","RecommendationsPage","recType","setRecType","userId","setUserId","movieId","setMovieId","recommendations","setRecommendations","handleGetRecommendations","params","URLSearchParams","append","display","href","rel","textDecoration","App","currentPage","setCurrentPage","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGe,QAAS,CAAAA,iBAAQA,CAAA,CAAG,CACjC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGC,yBAAQ,CAAC,EAAE,CAAC,CAE9C;AACAC,0BAAS,CAAC,IAAM,CACd,KAAM,CAAAC,MAAM,CAAG,CACb,CAAEC,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,UAAU,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,cAAe,CAAC,CAChE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,yBAAyB,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,cAAe,CAAC,CAC/E,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,YAAY,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,cAAe,CAAC,CAClE,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,wBAAwB,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,cAAe,CAAC,CAC9E,CAAEH,EAAE,CAAE,CAAC,CAAEC,KAAK,CAAE,kBAAkB,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,cAAe,CAAC,CACzE,CACDP,YAAY,CAACG,MAAM,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEK,2BAAA,QAAAC,QAAA,eAEEC,0BAAA,QAAKC,SAAS,CAAC,MAAM,CAAAF,QAAA,cACnBC,0BAAA,OAAAD,QAAA,CAAI,wEAAkC,CAAI,CAAC,CACxC,CAAC,cAGNC,0BAAA,OAAAD,QAAA,CAAI,eAAQ,CAAI,CAAC,cACjBC,0BAAA,QAAKC,SAAS,CAAC,YAAY,CAAAF,QAAA,CACxBV,SAAS,CAACa,GAAG,CAACC,KAAK,eAClBL,2BAAA,QAAoBG,SAAS,CAAC,YAAY,CAAAF,QAAA,eACxCC,0BAAA,QAAKI,GAAG,CAAED,KAAK,CAACN,MAAO,CAACQ,GAAG,CAAEF,KAAK,CAACR,KAAM,CAAE,CAAC,cAC5CG,2BAAA,QAAKG,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnBC,0BAAA,QAAKC,SAAS,CAAC,OAAO,CAAAF,QAAA,CAAEI,KAAK,CAACR,KAAK,CAAM,CAAC,cAC1CK,0BAAA,QAAKC,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAEI,KAAK,CAACP,IAAI,CAAM,CAAC,EACrC,CAAC,GALEO,KAAK,CAACT,EAMX,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,C;;;;;ACxCO,KAAM,CAAAY,QAAQ,CAAGC,kCAA8B,EAAI,KAAuB,C;;ACGlE,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGnB,yBAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACE,MAAM,CAAEkB,SAAS,CAAC,CAAGpB,yBAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,yBAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,yBAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,yBAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC2B,eAAe,CAAEC,kBAAkB,CAAC,CAAG5B,yBAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC6B,eAAe,CAAEC,kBAAkB,CAAC,CAAG9B,yBAAQ,CAAC,IAAI,CAAC,CAAE;AAE9DC,0BAAS,CAAC,IAAM,CACd,GAAIiB,WAAW,CAACa,IAAI,CAAC,CAAC,CAACC,MAAM,CAAG,CAAC,CAAE,CACjCR,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZO,KAAK,IAAAC,MAAA,CAAInB,QAAQ,sBAAAmB,MAAA,CAAoBC,kBAAkB,CAACjB,WAAW,CAAC,CAAE,CAAC,CACpEkB,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACZjB,cAAc,CAACiB,IAAI,CAACC,OAAO,EAAI,EAAE,CAAC,CAClCZ,kBAAkB,CAAC,IAAI,CAAC,CACxBJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDiB,KAAK,CAACC,GAAG,EAAI,CACZhB,QAAQ,CAAC,oBAAoB,CAAC,CAC9BF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,IAAM,CACLF,cAAc,CAAC,EAAE,CAAC,CAClBM,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAAE,CAACV,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAAyB,iBAAiB,CAAG,KAAO,CAAA/B,KAAK,EAAK,CACzCO,cAAc,CAACP,KAAK,CAACR,KAAK,CAAC,CAC3BgB,SAAS,CAAC,CAACR,KAAK,CAAC,CAAC,CAClBgB,kBAAkB,CAAC,KAAK,CAAC,CACzBE,kBAAkB,CAAC,IAAI,CAAC,CAExB;AACA,GAAI,CACF,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAAX,KAAK,IAAAC,MAAA,CAAInB,QAAQ,aAAAmB,MAAA,CAAWtB,KAAK,CAACT,EAAE,YAAU,CAAC,CACtE,GAAIyC,QAAQ,CAACC,EAAE,CAAE,CACf,KAAM,CAAAN,IAAI,CAAG,KAAM,CAAAK,QAAQ,CAACN,IAAI,CAAC,CAAC,CAClClB,SAAS,CAAC,CAAA0B,wCAAA,CAAAA,wCAAA,IAAMlC,KAAK,MAAEmC,SAAS,CAAER,IAAI,CAACQ,SAAS,GAAG,CAAC,CACtD,CACF,CAAE,MAAOL,GAAG,CAAE,CACZM,OAAO,CAACvB,KAAK,CAAC,yBAAyB,CAAEiB,GAAG,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAO,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACjC,WAAW,CAACa,IAAI,CAAC,CAAC,CAAE,OACzBP,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAkB,QAAQ,CAAG,KAAM,CAAAX,KAAK,IAAAC,MAAA,CAAInB,QAAQ,sBAAAmB,MAAA,CAAoBC,kBAAkB,CAACjB,WAAW,CAAC,CAAE,CAAC,CAC9F,GAAI,CAAC0B,QAAQ,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAO,KAAK,CAAC,cAAc,CAAC,CACjD,KAAM,CAAAb,IAAI,CAAG,KAAM,CAAAK,QAAQ,CAACN,IAAI,CAAC,CAAC,CAClClB,SAAS,CAACmB,IAAI,CAACC,OAAO,EAAI,EAAE,CAAC,CAC7BZ,kBAAkB,CAAC,KAAK,CAAC,CACzB,GAAI,CAACW,IAAI,CAACC,OAAO,EAAID,IAAI,CAACC,OAAO,CAACR,MAAM,GAAK,CAAC,CAAEN,QAAQ,CAAC,yBAAyB,CAAC,CACrF,CAAE,MAAOgB,GAAG,CAAE,CACZhB,QAAQ,CAACgB,GAAG,CAACW,OAAO,CAAC,CACvB,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA8B,iBAAiB,CAAIC,GAAG,EAAK,CACjC,GAAI,CAACA,GAAG,CAAE,MAAO,KAAI,CACrB,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,GAAG,CAACF,GAAG,CAAC,CAC3B,GAAIC,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAE,MAAO,CAAAH,MAAM,CAACI,YAAY,CAACC,GAAG,CAAC,GAAG,CAAC,CAChF,GAAIL,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,CAAAH,MAAM,CAACM,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAC3E,CAAE,MAAOb,CAAC,CAAE,CACV,MAAO,KAAI,CACb,CACA,MAAO,KAAI,CACb,CAAC,CAED,KAAM,CAAAc,aAAa,CAAG,KAAO,CAAApD,KAAK,EAAK,CACrC,GAAIiB,eAAe,GAAKjB,KAAK,CAACT,EAAE,CAAE,CAChC2B,kBAAkB,CAAC,IAAI,CAAC,CAAE;AAC1B,OACF,CAEA;AACA,GAAI,CAAClB,KAAK,CAACmC,SAAS,CAAE,CACpB,GAAI,CACF,KAAM,CAAAH,QAAQ,CAAG,KAAM,CAAAX,KAAK,IAAAC,MAAA,CAAInB,QAAQ,aAAAmB,MAAA,CAAWtB,KAAK,CAACT,EAAE,YAAU,CAAC,CACtE,GAAIyC,QAAQ,CAACC,EAAE,CAAE,CACf,KAAM,CAAAN,IAAI,CAAG,KAAM,CAAAK,QAAQ,CAACN,IAAI,CAAC,CAAC,CAClClB,SAAS,CAAC6C,GAAG,EAAIA,GAAG,CAACtD,GAAG,CAACuD,CAAC,EAAIA,CAAC,CAAC/D,EAAE,GAAKS,KAAK,CAACT,EAAE,CAAA2C,wCAAA,CAAAA,wCAAA,IAAQoB,CAAC,MAAEnB,SAAS,CAAER,IAAI,CAACQ,SAAS,GAAKmB,CAAC,CAAC,CAAC,CAC7F,CACF,CAAE,MAAOxB,GAAG,CAAE,CACZM,OAAO,CAACvB,KAAK,CAAC,yBAAyB,CAAEiB,GAAG,CAAC,CAC/C,CACF,CAEAZ,kBAAkB,CAAClB,KAAK,CAACT,EAAE,CAAC,CAAE;AAChC,CAAC,CAED,KAAM,CAAAgE,SAAS,CAAGC,IAAA,EAAe,IAAd,CAAExD,KAAM,CAAC,CAAAwD,IAAA,CAC1B,KAAM,CAAAC,OAAO,CAAGf,iBAAiB,CAAC1C,KAAK,CAACmC,SAAS,CAAC,CAElD,mBACExC,2BAAA,QAEEG,SAAS,CAAC,YAAY,CACtB4D,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,UAAU,CAAE,eAAe,CAAEC,OAAO,CAAE,MAAM,CAAEC,MAAM,CAAE,mBAAmB,CAAEC,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAO,CAAE,CACnJC,OAAO,CAAEA,CAAA,GAAMb,aAAa,CAACpD,KAAK,CAAE,CAAAJ,QAAA,eAEpCD,2BAAA,OAAAC,QAAA,EAAKI,KAAK,CAACR,KAAK,CAAC,GAAC,CAACQ,KAAK,CAACP,IAAI,CAAG,CAAC,MAAA6B,MAAA,CAAQtB,KAAK,CAACP,IAAI,KAAG,EAAK,CAAC,cAC5DI,0BAAA,MAAAD,QAAA,CAAII,KAAK,CAACkE,QAAQ,CAAI,CAAC,cACvBvE,2BAAA,MAAAC,QAAA,EAAG,SAAE,CAACI,KAAK,CAACmE,YAAY,EAAI,KAAK,CAAC,KAAG,EAAG,CAAC,cACzCtE,0BAAA,MAAG6D,KAAK,CAAE,CAAEU,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAA1E,QAAA,CAAC,uCAAsB,CAAG,CAAC,CAG9FqB,eAAe,GAAKjB,KAAK,CAACT,EAAE,EAAIS,KAAK,CAACmC,SAAS,EAAIsB,OAAO,eACzD5D,0BAAA,WACE0E,KAAK,CAAC,MAAM,CACZC,MAAM,CAAC,KAAK,CACZvE,GAAG,kCAAAqB,MAAA,CAAmCmC,OAAO,eAAc,CAC3DgB,WAAW,CAAC,GAAG,CACfC,KAAK,CAAC,2BAA2B,CACjCC,eAAe,MACfnF,KAAK,CAAC,SAAS,CACfkE,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAM,CAAEb,YAAY,CAAE,KAAM,CAAE,CACnD,CACF,GAtBI/D,KAAK,CAACT,EAAE,EAAIS,KAAK,CAACR,KAuBpB,CAAC,CAEV,CAAC,CAED,mBACEG,2BAAA,QAAK+D,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAO,CAAE,CAAAjE,QAAA,eAC9BC,0BAAA,OAAAD,QAAA,CAAI,oCAAgB,CAAI,CAAC,cACzBD,2BAAA,SAAMkF,QAAQ,CAAExC,YAAa,CAACqB,KAAK,CAAE,CAAEoB,QAAQ,CAAE,UAAU,CAAEd,YAAY,CAAE,MAAO,CAAE,CAAApE,QAAA,eAClFC,0BAAA,UACEkF,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,0BAAkB,CAC9BC,KAAK,CAAE3E,WAAY,CACnB4E,QAAQ,CAAG5C,CAAC,EAAK/B,cAAc,CAAC+B,CAAC,CAAC6C,MAAM,CAACF,KAAK,CAAE,CAChDvB,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEU,KAAK,CAAE,OAAO,CAAEa,WAAW,CAAE,MAAO,CAAE,CACjE,CAAC,cACFvF,0BAAA,WAAQkF,IAAI,CAAC,QAAQ,CAACrB,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAO,CAAE,CAAAjE,QAAA,CAAC,kBAAQ,CAAQ,CAAC,CAElEmB,eAAe,EAAIN,WAAW,CAACW,MAAM,CAAG,CAAC,eACxCvB,0BAAA,QAAK6D,KAAK,CAAE,CAAEoB,QAAQ,CAAE,UAAU,CAAEO,GAAG,CAAE,MAAM,CAAEC,IAAI,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEC,QAAQ,CAAE,OAAO,CAAEC,UAAU,CAAE,OAAO,CAAE3B,MAAM,CAAE,mBAAmB,CAAEC,YAAY,CAAE,KAAK,CAAE2B,SAAS,CAAE,OAAO,CAAEC,SAAS,CAAE,MAAM,CAAEC,MAAM,CAAE,EAAG,CAAE,CAAAhG,QAAA,CAC/Ma,WAAW,CAAC0C,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACpD,GAAG,CAAC,CAACC,KAAK,CAAE6F,GAAG,gBACvClG,2BAAA,QAAesE,OAAO,CAAEA,CAAA,GAAMlC,iBAAiB,CAAC/B,KAAK,CAAE,CAAC0D,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEiC,YAAY,CAAE,mBAAmB,CAAEnC,MAAM,CAAE,SAAU,CAAE,CAAA/D,QAAA,EACtII,KAAK,CAACR,KAAK,CAAC,GAAC,CAACQ,KAAK,CAACP,IAAI,CAAG,CAAC,MAAA6B,MAAA,CAAQtB,KAAK,CAACP,IAAI,KAAG,GAD1CoG,GAEL,CACN,CAAC,CACC,CACN,EACG,CAAC,CAENhF,KAAK,eAAIhB,0BAAA,QAAK6D,KAAK,CAAE,CAAEU,KAAK,CAAE,KAAM,CAAE,CAAAxE,QAAA,CAAEiB,KAAK,CAAM,CAAC,CACpDF,OAAO,eAAId,0BAAA,QAAAD,QAAA,CAAK,uBAAW,CAAK,CAAC,CAEjCN,MAAM,CAAC8B,MAAM,CAAG,CAAC,eAChBzB,2BAAA,QAAAC,QAAA,eACED,2BAAA,OAAAC,QAAA,EAAI,mBAAS,CAACN,MAAM,CAAC8B,MAAM,CAAC,oBAAQ,EAAI,CAAC,cACzCvB,0BAAA,QAAAD,QAAA,CACGN,MAAM,CAACS,GAAG,CAACC,KAAK,eAAIH,0BAAA,CAAC0D,SAAS,EAA+BvD,KAAK,CAAEA,KAAM,EAAtCA,KAAK,CAACT,EAAE,EAAIS,KAAK,CAACR,KAAsB,CAAC,CAAC,CAC5E,CAAC,EACH,CACN,EACE,CAAC,CAEV,C;;AC5Ke,QAAS,CAAAuG,mBAAmBA,CAAA,CAAG,CAC5C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG7G,yBAAQ,CAAC,eAAe,CAAC,CACvD,KAAM,CAAC8G,MAAM,CAAEC,SAAS,CAAC,CAAG/G,yBAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACgH,OAAO,CAAEC,UAAU,CAAC,CAAGjH,yBAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACkH,eAAe,CAAEC,kBAAkB,CAAC,CAAGnH,yBAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,yBAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,yBAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAoH,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3C5F,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZyF,kBAAkB,CAAC,EAAE,CAAC,CAEtB,GAAI,CACF,KAAM,CAAAE,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACpC,GAAIR,MAAM,CAAEO,MAAM,CAACE,MAAM,CAAC,SAAS,CAAET,MAAM,CAAC,CAC5C,GAAIE,OAAO,CAAEK,MAAM,CAACE,MAAM,CAAC,UAAU,CAAEP,OAAO,CAAC,CAC/CK,MAAM,CAACE,MAAM,CAAC,GAAG,CAAE,IAAI,CAAC,CAExB,KAAM,CAAA3E,QAAQ,CAAG,KAAM,CAAAX,KAAK,wCAAAC,MAAA,CAAwC0E,OAAO,MAAA1E,MAAA,CAAImF,MAAM,CAAE,CAAC,CACxF,GAAI,CAACzE,QAAQ,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAO,KAAK,CAAC,eAAe,CAAC,CAClD,KAAM,CAAAb,IAAI,CAAG,KAAM,CAAAK,QAAQ,CAACN,IAAI,CAAC,CAAC,CAClC6E,kBAAkB,CAAC5E,IAAI,CAACC,OAAO,EAAI,EAAE,CAAC,CACtC,GAAI,CAACD,IAAI,CAACC,OAAO,EAAID,IAAI,CAACC,OAAO,CAACR,MAAM,GAAK,CAAC,CAAE,CAC9CN,QAAQ,CAAC,oBAAoB,CAAC,CAChC,CACF,CAAE,MAAOgB,GAAG,CAAE,CACZhB,QAAQ,CAACgB,GAAG,CAACW,OAAO,CAAC,CACvB,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEjB,2BAAA,QAAAC,QAAA,eACEC,0BAAA,OAAIC,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAC,2BAAY,CAAI,CAAC,cAE7CD,2BAAA,QAAK+D,KAAK,CAAE,CAAE+B,UAAU,CAAE,SAAS,CAAE5B,OAAO,CAAE,MAAM,CAAEE,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAApE,QAAA,eAChGC,0BAAA,UAAO6D,KAAK,CAAE,CAAEkD,OAAO,CAAE,OAAO,CAAE5C,YAAY,CAAE,MAAO,CAAE,CAAApE,QAAA,cACvDC,0BAAA,WAAAD,QAAA,CAAQ,0BAAW,CAAQ,CAAC,CACvB,CAAC,cACRD,2BAAA,WACEsF,KAAK,CAAEe,OAAQ,CACfd,QAAQ,CAAG5C,CAAC,EAAK2D,UAAU,CAAC3D,CAAC,CAAC6C,MAAM,CAACF,KAAK,CAAE,CAC5CvB,KAAK,CAAE,CAAEG,OAAO,CAAE,KAAK,CAAEE,YAAY,CAAE,KAAK,CAAED,MAAM,CAAE,mBAAoB,CAAE,CAAAlE,QAAA,eAE5EC,0BAAA,WAAQoF,KAAK,CAAC,eAAe,CAAArF,QAAA,CAAC,yBAAuB,CAAQ,CAAC,cAC9DC,0BAAA,WAAQoF,KAAK,CAAC,SAAS,CAAArF,QAAA,CAAC,yBAAuB,CAAQ,CAAC,cACxDC,0BAAA,WAAQoF,KAAK,CAAC,QAAQ,CAAArF,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAC1C,CAAC,CAER,CAACoG,OAAO,GAAK,eAAe,EAAIA,OAAO,GAAK,QAAQ,gBACnDrG,2BAAA,QAAK+D,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAAhF,QAAA,eAChCC,0BAAA,UAAO6D,KAAK,CAAE,CAAEkD,OAAO,CAAE,OAAO,CAAE5C,YAAY,CAAE,KAAM,CAAE,CAAApE,QAAA,CAAC,gDAEzD,CAAO,CAAC,cACRC,0BAAA,UACEkF,IAAI,CAAC,QAAQ,CACbE,KAAK,CAAEiB,MAAO,CACdhB,QAAQ,CAAG5C,CAAC,EAAK6D,SAAS,CAAC7D,CAAC,CAAC6C,MAAM,CAACF,KAAK,CAAE,CAC3CnF,SAAS,CAAC,YAAY,CACtB4D,KAAK,CAAE,CAAE8B,QAAQ,CAAE,OAAQ,CAAE,CAC7BR,WAAW,CAAC,cAAS,CACtB,CAAC,EACC,CACN,CAEA,CAACgB,OAAO,GAAK,SAAS,EAAIA,OAAO,GAAK,QAAQ,gBAC7CrG,2BAAA,QAAK+D,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAAhF,QAAA,eAChCC,0BAAA,UAAO6D,KAAK,CAAE,CAAEkD,OAAO,CAAE,OAAO,CAAE5C,YAAY,CAAE,KAAM,CAAE,CAAApE,QAAA,CAAC,6BAEzD,CAAO,CAAC,cACRC,0BAAA,UACEkF,IAAI,CAAC,QAAQ,CACbE,KAAK,CAAEmB,OAAQ,CACflB,QAAQ,CAAG5C,CAAC,EAAK+D,UAAU,CAAC/D,CAAC,CAAC6C,MAAM,CAACF,KAAK,CAAE,CAC5CnF,SAAS,CAAC,YAAY,CACtB4D,KAAK,CAAE,CAAE8B,QAAQ,CAAE,OAAQ,CAAE,CAC7BR,WAAW,CAAC,cAAS,CACtB,CAAC,EACC,CACN,cAEDnF,0BAAA,WAAQoE,OAAO,CAAEuC,wBAAyB,CAAC1G,SAAS,CAAC,KAAK,CAAC4D,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAAhF,QAAA,CAAC,wBAEzF,CAAQ,CAAC,EACN,CAAC,CAELiB,KAAK,eAAIhB,0BAAA,QAAKC,SAAS,CAAC,OAAO,CAAAF,QAAA,CAAEiB,KAAK,CAAM,CAAC,CAC7CF,OAAO,eAAId,0BAAA,QAAKC,SAAS,CAAC,SAAS,CAAAF,QAAA,CAAC,uBAAW,CAAK,CAAC,CAErD0G,eAAe,CAAClF,MAAM,CAAG,CAAC,eACzBzB,2BAAA,QAAAC,QAAA,eACED,2BAAA,MAAG+D,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAM,CAAER,KAAK,CAAE,SAAU,CAAE,CAAAxE,QAAA,EAAC,QAAG,CAAC0G,eAAe,CAAClF,MAAM,CAAC,6BAAc,EAAG,CAAC,cAChGvB,0BAAA,QAAKC,SAAS,CAAC,YAAY,CAAAF,QAAA,CACxB0G,eAAe,CAACvG,GAAG,CAAC,CAACC,KAAK,CAAE6F,GAAG,gBAC9BlG,2BAAA,QAAeG,SAAS,CAAC,YAAY,CAAAF,QAAA,eACnCD,2BAAA,OAAAC,QAAA,EAAKI,KAAK,CAACR,KAAK,CAAC,GAAC,CAACQ,KAAK,CAACP,IAAI,CAAG,CAAC,MAAA6B,MAAA,CAAQtB,KAAK,CAACP,IAAI,KAAG,EAAK,CAAC,cAC5DE,2BAAA,MAAAC,QAAA,eAAGC,0BAAA,WAAAD,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACI,KAAK,CAACkE,QAAQ,EAAI,CAAC,cAClDvE,2BAAA,MAAGG,SAAS,CAAC,QAAQ,CAAAF,QAAA,EAAC,SAAE,CAACI,KAAK,CAACmE,YAAY,EAAI,KAAK,CAAC,KAAG,EAAG,CAAC,CAC3DnE,KAAK,CAACmC,SAAS,eACdtC,0BAAA,QAAK6D,KAAK,CAAE,CAAEkB,SAAS,CAAE,MAAO,CAAE,CAAAhF,QAAA,cAChCC,0BAAA,MAAGgH,IAAI,CAAE7G,KAAK,CAACmC,SAAU,CAACgD,MAAM,CAAC,QAAQ,CAAC2B,GAAG,CAAC,qBAAqB,CAAChH,SAAS,CAAC,KAAK,CAAC4D,KAAK,CAAE,CAAEkD,OAAO,CAAE,cAAc,CAAEG,cAAc,CAAE,MAAO,CAAE,CAAAnH,QAAA,CAAC,oBAEhJ,CAAG,CAAC,CACD,CACN,GAVOiG,GAWL,CACN,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,CAEV,C;;AC9Ge,QAAS,CAAAmB,OAAGA,CAAA,CAAG,CAC5B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG9H,yBAAQ,CAAC,MAAM,CAAC,CAEtD,mBACEO,2BAAA,QAAKG,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5BD,2BAAA,UAAOG,SAAS,CAAC,SAAS,CAAAF,QAAA,eACxBC,0BAAA,QAAKC,SAAS,CAAC,gBAAgB,CAAAF,QAAA,cAC7BC,0BAAA,OAAAD,QAAA,CAAI,oDAAsB,CAAI,CAAC,CAC5B,CAAC,cACND,2BAAA,QAAKG,SAAS,CAAC,aAAa,CAAAF,QAAA,eAC1BC,0BAAA,WACEC,SAAS,aAAAwB,MAAA,CAAc2F,WAAW,GAAK,MAAM,CAAG,QAAQ,CAAG,EAAE,CAAG,CAChEhD,OAAO,CAAEA,CAAA,GAAMiD,cAAc,CAAC,MAAM,CAAE,CAAAtH,QAAA,CACvC,6BAED,CAAQ,CAAC,cACTC,0BAAA,WACEC,SAAS,aAAAwB,MAAA,CAAc2F,WAAW,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEhD,OAAO,CAAEA,CAAA,GAAMiD,cAAc,CAAC,QAAQ,CAAE,CAAAtH,QAAA,CACzC,mBAED,CAAQ,CAAC,cACTC,0BAAA,WACEC,SAAS,aAAAwB,MAAA,CAAc2F,WAAW,GAAK,iBAAiB,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC3EhD,OAAO,CAAEA,CAAA,GAAMiD,cAAc,CAAC,iBAAiB,CAAE,CAAAtH,QAAA,CAClD,sBAED,CAAQ,CAAC,EACN,CAAC,EACD,CAAC,cAERD,2BAAA,SAAMG,SAAS,CAAC,cAAc,CAAAF,QAAA,EAC3BqH,WAAW,GAAK,MAAM,eAAIpH,0BAAA,CAACZ,iBAAQ,GAAE,CAAC,CACtCgI,WAAW,GAAK,QAAQ,eAAIpH,0BAAA,CAACQ,UAAU,GAAE,CAAC,CAC1C4G,WAAW,GAAK,iBAAiB,eAAIpH,0BAAA,CAACkG,mBAAmB,GAAE,CAAC,EACzD,CAAC,EACJ,CAAC,CAEV,C;;ACxCAoB,mBAAQ,CAACC,MAAM,cACbvH,0BAAA,CAACwH,eAAK,CAACC,UAAU,EAAA1H,QAAA,cACfC,0BAAA,CAACmH,OAAG,GAAE,CAAC,CACS,CAAC,CACnBO,QAAQ,CAACC,cAAc,CAAC,MAAM,CAChC,CAAC,C;;;;;;;ACTD,uC","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useEffect, useState } from 'react';\r\nimport './HomePage.css';\r\n\r\nexport default function HomePage() {\r\n  const [newMovies, setNewMovies] = useState([]);\r\n\r\n  // Ví dụ fake API call\r\n  useEffect(() => {\r\n    const movies = [\r\n      { id: 1, title: \"Avatar 2\", year: 2022, poster: \"/poster1.jpg\" },\r\n      { id: 2, title: \"Spider-Man: No Way Home\", year: 2021, poster: \"/poster2.jpg\" },\r\n      { id: 3, title: \"The Batman\", year: 2022, poster: \"/poster3.jpg\" },\r\n      { id: 4, title: \"Thor: Love and Thunder\", year: 2022, poster: \"/poster4.jpg\" },\r\n      { id: 5, title: \"Doctor Strange 2\", year: 2022, poster: \"/poster5.jpg\" },\r\n    ];\r\n    setNewMovies(movies);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {/* Hero banner */}\r\n      <div className=\"hero\">\r\n        <h2>Khám phá những bộ phim mới nhất 🎬</h2>\r\n      </div>\r\n\r\n      {/* Movie grid */}\r\n      <h3>Phim mới</h3>\r\n      <div className=\"movie-grid\">\r\n        {newMovies.map(movie => (\r\n          <div key={movie.id} className=\"movie-card\">\r\n            <img src={movie.poster} alt={movie.title} />\r\n            <div className=\"info\">\r\n              <div className=\"title\">{movie.title}</div>\r\n              <div className=\"year\">{movie.year}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8000\";\r\n","import React, { useState, useEffect } from 'react';\r\nimport { API_BASE } from '../config';\r\n\r\nexport default function MoviesPage() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [movies, setMovies] = useState([]);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [selectedMovieId, setSelectedMovieId] = useState(null); // Movie đang xem trailer\r\n\r\n  useEffect(() => {\r\n    if (searchQuery.trim().length > 0) {\r\n      setLoading(true);\r\n      setError('');\r\n      fetch(`${API_BASE}/movies/search?q=${encodeURIComponent(searchQuery)}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setSuggestions(data.results || []);\r\n          setShowSuggestions(true);\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          setError('Lỗi tìm kiếm gợi ý');\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  const handleSelectMovie = async (movie) => {\r\n    setSearchQuery(movie.title);\r\n    setMovies([movie]);\r\n    setShowSuggestions(false);\r\n    setSelectedMovieId(null);\r\n\r\n    // Fetch trailer ngay khi chọn\r\n    try {\r\n      const response = await fetch(`${API_BASE}/movies/${movie.id}/trailer`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setMovies([{ ...movie, video_url: data.video_url }]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching trailer:', err);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim()) return;\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/movies/search?q=${encodeURIComponent(searchQuery)}`);\r\n      if (!response.ok) throw new Error('Lỗi tìm kiếm');\r\n      const data = await response.json();\r\n      setMovies(data.results || []);\r\n      setShowSuggestions(false);\r\n      if (!data.results || data.results.length === 0) setError('Không tìm thấy phim nào');\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getYouTubeVideoId = (url) => {\r\n    if (!url) return null;\r\n    try {\r\n      const urlObj = new URL(url);\r\n      if (urlObj.hostname.includes('youtube.com')) return urlObj.searchParams.get('v');\r\n      if (urlObj.hostname.includes('youtu.be')) return urlObj.pathname.slice(1);\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const toggleTrailer = async (movie) => {\r\n    if (selectedMovieId === movie.id) {\r\n      setSelectedMovieId(null); // Ẩn trailer nếu click lại\r\n      return;\r\n    }\r\n\r\n    // Nếu chưa có video_url, fetch từ backend\r\n    if (!movie.video_url) {\r\n      try {\r\n        const response = await fetch(`${API_BASE}/movies/${movie.id}/trailer`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setMovies(mvs => mvs.map(m => m.id === movie.id ? { ...m, video_url: data.video_url } : m));\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching trailer:', err);\r\n      }\r\n    }\r\n\r\n    setSelectedMovieId(movie.id); // Hiển thị trailer cho movie này\r\n  };\r\n\r\n  const MovieCard = ({ movie }) => {\r\n    const videoId = getYouTubeVideoId(movie.video_url);\r\n\r\n    return (\r\n      <div \r\n        key={movie.id || movie.title} \r\n        className=\"movie-card\"\r\n        style={{ cursor: 'pointer', transition: 'all 0.3s ease', padding: '15px', border: '1px solid #e5e7eb', borderRadius: '8px', marginBottom: '15px' }}\r\n        onClick={() => toggleTrailer(movie)}\r\n      >\r\n        <h3>{movie.title} {movie.year > 0 && `(${movie.year})`}</h3>\r\n        <p>{movie.overview}</p>\r\n        <p>⭐ {movie.vote_average || 'N/A'}/10</p>\r\n        <p style={{ color: '#3b82f6', fontSize: '14px', fontWeight: '500' }}>▶ Click để xem trailer</p>\r\n\r\n        {/* Hiển thị trailer ngay dưới phim nếu movie đang được chọn */}\r\n        {selectedMovieId === movie.id && movie.video_url && videoId && (\r\n          <iframe \r\n            width=\"100%\" \r\n            height=\"400\" \r\n            src={`https://www.youtube.com/embed/${videoId}?autoplay=1`} \r\n            frameBorder=\"0\" \r\n            allow=\"autoplay; encrypted-media\" \r\n            allowFullScreen \r\n            title=\"trailer\"\r\n            style={{ marginTop: '15px', borderRadius: '8px' }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1>🎥 Tìm kiếm Phim</h1>\r\n      <form onSubmit={handleSearch} style={{ position: 'relative', marginBottom: '20px' }}>\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Nhập tên phim...\" \r\n          value={searchQuery} \r\n          onChange={(e) => setSearchQuery(e.target.value)} \r\n          style={{ padding: '10px', width: '300px', marginRight: '10px' }}\r\n        />\r\n        <button type=\"submit\" style={{ padding: '10px' }}>Tìm kiếm</button>\r\n\r\n        {showSuggestions && suggestions.length > 0 && (\r\n          <div style={{ position: 'absolute', top: '45px', left: 0, right: 0, maxWidth: '300px', background: 'white', border: '1px solid #d1d5db', borderRadius: '6px', maxHeight: '200px', overflowY: 'auto', zIndex: 10 }}>\r\n            {suggestions.slice(0, 10).map((movie, idx) => (\r\n              <div key={idx} onClick={() => handleSelectMovie(movie)} style={{ padding: '10px', borderBottom: '1px solid #e5e7eb', cursor: 'pointer' }}>\r\n                {movie.title} {movie.year > 0 && `(${movie.year})`}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      {loading && <div>Đang tải...</div>}\r\n\r\n      {movies.length > 0 && (\r\n        <div>\r\n          <h3>Tìm thấy {movies.length} kết quả</h3>\r\n          <div>\r\n            {movies.map(movie => <MovieCard key={movie.id || movie.title} movie={movie} />)}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function RecommendationsPage() {\r\n  const [recType, setRecType] = useState('collaborative');\r\n  const [userId, setUserId] = useState('');\r\n  const [movieId, setMovieId] = useState('');\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleGetRecommendations = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    setRecommendations([]);\r\n\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (userId) params.append('user_id', userId);\r\n      if (movieId) params.append('movie_id', movieId);\r\n      params.append('n', '10');\r\n\r\n      const response = await fetch(`http://backend:8000/recommendations/${recType}?${params}`);\r\n      if (!response.ok) throw new Error('Lỗi lấy gợi ý');\r\n      const data = await response.json();\r\n      setRecommendations(data.results || []);\r\n      if (!data.results || data.results.length === 0) {\r\n        setError('Không có gợi ý nào');\r\n      }\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"page-header\">⭐ Gợi ý Phim</h1>\r\n\r\n      <div style={{ background: '#f3f4f6', padding: '20px', borderRadius: '8px', marginBottom: '20px' }}>\r\n        <label style={{ display: 'block', marginBottom: '10px' }}>\r\n          <strong>Loại gợi ý:</strong>\r\n        </label>\r\n        <select \r\n          value={recType} \r\n          onChange={(e) => setRecType(e.target.value)}\r\n          style={{ padding: '8px', borderRadius: '6px', border: '1px solid #d1d5db' }}\r\n        >\r\n          <option value=\"collaborative\">Collaborative Filtering</option>\r\n          <option value=\"content\">Content-based Filtering</option>\r\n          <option value=\"hybrid\">Hybrid Filtering</option>\r\n        </select>\r\n\r\n        {(recType === 'collaborative' || recType === 'hybrid') && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <label style={{ display: 'block', marginBottom: '5px' }}>\r\n              ID Người dùng (tùy chọn):\r\n            </label>\r\n            <input \r\n              type=\"number\"\r\n              value={userId}\r\n              onChange={(e) => setUserId(e.target.value)}\r\n              className=\"search-box\"\r\n              style={{ maxWidth: '200px' }}\r\n              placeholder=\"Nhập ID\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {(recType === 'content' || recType === 'hybrid') && (\r\n          <div style={{ marginTop: '15px' }}>\r\n            <label style={{ display: 'block', marginBottom: '5px' }}>\r\n              ID Phim (tùy chọn):\r\n            </label>\r\n            <input \r\n              type=\"number\"\r\n              value={movieId}\r\n              onChange={(e) => setMovieId(e.target.value)}\r\n              className=\"search-box\"\r\n              style={{ maxWidth: '200px' }}\r\n              placeholder=\"Nhập ID\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <button onClick={handleGetRecommendations} className=\"btn\" style={{ marginTop: '15px' }}>\r\n          Lấy gợi ý\r\n        </button>\r\n      </div>\r\n\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {loading && <div className=\"loading\">Đang tải...</div>}\r\n\r\n      {recommendations.length > 0 && (\r\n        <div>\r\n          <p style={{ marginTop: '20px', color: '#6b7280' }}>Có {recommendations.length} gợi ý cho bạn</p>\r\n          <div className=\"movie-list\">\r\n            {recommendations.map((movie, idx) => (\r\n              <div key={idx} className=\"movie-card\">\r\n                <h3>{movie.title} {movie.year > 0 && `(${movie.year})`}</h3>\r\n                <p><strong>Overview:</strong> {movie.overview}</p>\r\n                <p className=\"rating\">⭐ {movie.vote_average || 'N/A'}/10</p>\r\n                {movie.video_url && (\r\n                  <div style={{ marginTop: '10px' }}>\r\n                    <a href={movie.video_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn\" style={{ display: 'inline-block', textDecoration: 'none' }}>\r\n                      ▶ Xem trailer\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport HomePage from './pages/HomePage';\r\nimport MoviesPage from './pages/MoviesPage';\r\nimport RecommendationsPage from './pages/RecommendationsPage';\r\n\r\nexport default function App() {\r\n  const [currentPage, setCurrentPage] = useState('home');\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <aside className=\"sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <h1>🎬 Hệ thống Gợi ý Phim</h1>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          <button \r\n            className={`nav-link ${currentPage === 'home' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('home')}\r\n          >\r\n            🏠 Trang chủ\r\n          </button>\r\n          <button \r\n            className={`nav-link ${currentPage === 'movies' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('movies')}\r\n          >\r\n            🎥 Phim\r\n          </button>\r\n          <button \r\n            className={`nav-link ${currentPage === 'recommendations' ? 'active' : ''}`}\r\n            onClick={() => setCurrentPage('recommendations')}\r\n          >\r\n            ⭐ Gợi ý\r\n          </button>\r\n        </nav>\r\n      </aside>\r\n\r\n      <main className=\"main-content\">\r\n        {currentPage === 'home' && <HomePage />}\r\n        {currentPage === 'movies' && <MoviesPage />}\r\n        {currentPage === 'recommendations' && <RecommendationsPage />}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin"]}}